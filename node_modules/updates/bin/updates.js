#!/usr/bin/env node
import {createRequire} from 'module';const require = createRequire(import.meta.url);
var xh=Object.create;var ks=Object.defineProperty;var Lh=Object.getOwnPropertyDescriptor;var qh=Object.getOwnPropertyNames;var Dh=Object.getPrototypeOf,Bh=Object.prototype.hasOwnProperty;var Se=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var Er=(r,e)=>()=>(r&&(e=r(r=0)),e);var $=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Nh=(r,e)=>{for(var t in e)ks(r,t,{get:e[t],enumerable:!0})},kh=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of qh(e))!Bh.call(r,o)&&o!==t&&ks(r,o,{get:()=>e[o],enumerable:!(s=Lh(e,o))||s.enumerable});return r};var Ie=(r,e,t)=>(t=r!=null?xh(Dh(r)):{},kh(e||!r||!r.__esModule?ks(t,"default",{value:r,enumerable:!0}):t,r));var zs=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var z=(r,e,t)=>(zs(r,e,"read from private field"),t?t.call(r):e.get(r)),ie=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},ce=(r,e,t,s)=>(zs(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t);var oe=(r,e,t)=>(zs(r,e,"access private method"),t);var sa=$((Ib,na)=>{"use strict";var Ws=Se("https"),js=Se("http"),{URL:ra}=Se("url"),Us=class extends js.Agent{constructor(e){let{proxy:t,proxyRequestOptions:s,...o}=e;super(o),this.proxy=typeof t=="string"?new ra(t):t,this.proxyRequestOptions=s||{}}createConnection(e,t){let s={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");s.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(s.servername=this.proxy.hostname);let o=(this.proxy.protocol==="http:"?js:Ws).request(s);o.once("connect",(a,u,h)=>{o.removeAllListeners(),u.removeAllListeners(),a.statusCode===200?t(null,u):(u.destroy(),t(new Error(`Bad response: ${a.statusCode}`),null))}),o.once("timeout",()=>{o.destroy(new Error("Proxy timeout"))}),o.once("error",a=>{o.removeAllListeners(),t(a,null)}),o.end()}},Ms=class extends Ws.Agent{constructor(e){let{proxy:t,proxyRequestOptions:s,...o}=e;super(o),this.proxy=typeof t=="string"?new ra(t):t,this.proxyRequestOptions=s||{}}createConnection(e,t){let s={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");s.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(s.servername=this.proxy.hostname);let o=(this.proxy.protocol==="http:"?js:Ws).request(s);o.once("connect",(a,u,h)=>{if(o.removeAllListeners(),u.removeAllListeners(),a.statusCode===200){let c=super.createConnection({...e,socket:u});t(null,c)}else u.destroy(),t(new Error(`Bad response: ${a.statusCode}`),null)}),o.once("timeout",()=>{o.destroy(new Error("Proxy timeout"))}),o.once("error",a=>{o.removeAllListeners(),t(a,null)}),o.end()}};na.exports={HttpProxyAgent:Us,HttpsProxyAgent:Ms}});var la=$(aa=>{"use strict";var zh=Se("url").parse,Fh={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Wh=String.prototype.endsWith||function(r){return r.length<=this.length&&this.indexOf(r,this.length-r.length)!==-1};function jh(r){var e=typeof r=="string"?zh(r):r||{},t=e.protocol,s=e.host,o=e.port;if(typeof s!="string"||!s||typeof t!="string"||(t=t.split(":",1)[0],s=s.replace(/:\d*$/,""),o=parseInt(o)||Fh[t]||0,!Uh(s,o)))return"";var a=kt("npm_config_"+t+"_proxy")||kt(t+"_proxy")||kt("npm_config_proxy")||kt("all_proxy");return a&&a.indexOf("://")===-1&&(a=t+"://"+a),a}function Uh(r,e){var t=(kt("npm_config_no_proxy")||kt("no_proxy")).toLowerCase();return t?t==="*"?!1:t.split(/[,\s]/).every(function(s){if(!s)return!0;var o=s.match(/^(.+):(\d+)$/),a=o?o[1]:s,u=o?parseInt(o[2]):0;return u&&u!==e?!0:/^[.*]/.test(a)?(a.charAt(0)==="*"&&(a=a.slice(1)),!Wh.call(r,a)):r!==a}):!0}function kt(r){return process.env[r.toLowerCase()]||process.env[r.toUpperCase()]||""}aa.getProxyForUrl=jh});var Vs=$((Fb,da)=>{da.exports=function(r,e){e||(e={});var t={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(t.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?t.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(T){t.bools[T]=!0});var s={};Object.keys(e.alias||{}).forEach(function(T){s[T]=[].concat(e.alias[T]),s[T].forEach(function(B){s[B]=[T].concat(s[T].filter(function(q){return B!==q}))})}),[].concat(e.string).filter(Boolean).forEach(function(T){t.strings[T]=!0,s[T]&&(t.strings[s[T]]=!0)});var o=e.default||{},a={_:[]};Object.keys(t.bools).forEach(function(T){c(T,o[T]===void 0?!1:o[T])});var u=[];r.indexOf("--")!==-1&&(u=r.slice(r.indexOf("--")+1),r=r.slice(0,r.indexOf("--")));function h(T,B){return t.allBools&&/^--[^=]+$/.test(B)||t.strings[T]||t.bools[T]||s[T]}function c(T,B,q){if(!(q&&t.unknownFn&&!h(T,q)&&t.unknownFn(q)===!1)){var x=!t.strings[T]&&fa(B)?Number(B):B;d(a,T.split("."),x),(s[T]||[]).forEach(function(U){d(a,U.split("."),x)})}}function d(T,B,q){for(var x=T,U=0;U<B.length-1;U++){var M=B[U];if(ha(x,M))return;x[M]===void 0&&(x[M]={}),(x[M]===Object.prototype||x[M]===Number.prototype||x[M]===String.prototype)&&(x[M]={}),x[M]===Array.prototype&&(x[M]=[]),x=x[M]}var M=B[B.length-1];ha(x,M)||((x===Object.prototype||x===Number.prototype||x===String.prototype)&&(x={}),x===Array.prototype&&(x=[]),x[M]===void 0||t.bools[M]||typeof x[M]=="boolean"?x[M]=q:Array.isArray(x[M])?x[M].push(q):x[M]=[x[M],q])}function g(T){return s[T].some(function(B){return t.bools[B]})}for(var y=0;y<r.length;y++){var m=r[y];if(/^--.+=/.test(m)){var b=m.match(/^--([^=]+)=([\s\S]*)$/),S=b[1],v=b[2];t.bools[S]&&(v=v!=="false"),c(S,v,m)}else if(/^--no-.+/.test(m)){var S=m.match(/^--no-(.+)/)[1];c(S,!1,m)}else if(/^--.+/.test(m)){var S=m.match(/^--(.+)/)[1],w=r[y+1];w!==void 0&&!/^-/.test(w)&&!t.bools[S]&&!t.allBools&&(!s[S]||!g(S))?(c(S,w,m),y++):/^(true|false)$/.test(w)?(c(S,w==="true",m),y++):c(S,t.strings[S]?"":!0,m)}else if(/^-[^-]+/.test(m)){for(var R=m.slice(1,-1).split(""),O=!1,D=0;D<R.length;D++){var w=m.slice(D+2);if(w==="-"){c(R[D],w,m);continue}if(/[A-Za-z]/.test(R[D])&&/=/.test(w)){c(R[D],w.split("=")[1],m),O=!0;break}if(/[A-Za-z]/.test(R[D])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(w)){c(R[D],w,m),O=!0;break}if(R[D+1]&&R[D+1].match(/\W/)){c(R[D],m.slice(D+2),m),O=!0;break}else c(R[D],t.strings[R[D]]?"":!0,m)}var S=m.slice(-1)[0];!O&&S!=="-"&&(r[y+1]&&!/^(-|--)[^-]/.test(r[y+1])&&!t.bools[S]&&(!s[S]||!g(S))?(c(S,r[y+1],m),y++):r[y+1]&&/^(true|false)$/.test(r[y+1])?(c(S,r[y+1]==="true",m),y++):c(S,t.strings[S]?"":!0,m))}else if((!t.unknownFn||t.unknownFn(m)!==!1)&&a._.push(t.strings._||!fa(m)?m:Number(m)),e.stopEarly){a._.push.apply(a._,r.slice(y+1));break}}return Object.keys(o).forEach(function(T){Vh(a,T.split("."))||(d(a,T.split("."),o[T]),(s[T]||[]).forEach(function(B){d(a,B.split("."),o[T])}))}),e["--"]?(a["--"]=new Array,u.forEach(function(T){a["--"].push(T)})):u.forEach(function(T){a._.push(T)}),a};function Vh(r,e){var t=r;e.slice(0,-1).forEach(function(o){t=t[o]||{}});var s=e[e.length-1];return s in t}function fa(r){return typeof r=="number"||/^0x[0-9a-f]+$/i.test(r)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(r)}function ha(r,e){return e==="constructor"&&typeof r[e]=="function"||e==="__proto__"}});var ga=$((Cn,ma)=>{(function(r,e){typeof Cn=="object"&&typeof ma<"u"?e(Cn):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.WebStreamsPolyfill={}))})(Cn,function(r){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:n=>`Symbol(${n})`;function t(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let o=s();function a(n){return typeof n=="object"&&n!==null||typeof n=="function"}let u=t,h=Promise,c=Promise.prototype.then,d=Promise.resolve.bind(h),g=Promise.reject.bind(h);function y(n){return new h(n)}function m(n){return d(n)}function b(n){return g(n)}function S(n,i,l){return c.call(n,i,l)}function v(n,i,l){S(S(n,i,l),void 0,u)}function w(n,i){v(n,i)}function R(n,i){v(n,void 0,i)}function O(n,i,l){return S(n,i,l)}function D(n){S(n,void 0,u)}let T=(()=>{let n=o&&o.queueMicrotask;if(typeof n=="function")return n;let i=m(void 0);return l=>S(i,l)})();function B(n,i,l){if(typeof n!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(n,i,l)}function q(n,i,l){try{return m(B(n,i,l))}catch(f){return b(f)}}let x=16384;class U{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(i){let l=this._back,f=l;l._elements.length===x-1&&(f={_elements:[],_next:void 0}),l._elements.push(i),f!==l&&(this._back=f,l._next=f),++this._size}shift(){let i=this._front,l=i,f=this._cursor,p=f+1,_=i._elements,E=_[f];return p===x&&(l=i._next,p=0),--this._size,this._cursor=p,i!==l&&(this._front=l),_[f]=void 0,E}forEach(i){let l=this._cursor,f=this._front,p=f._elements;for(;(l!==p.length||f._next!==void 0)&&!(l===p.length&&(f=f._next,p=f._elements,l=0,p.length===0));)i(p[l]),++l}peek(){let i=this._front,l=this._cursor;return i._elements[l]}}function M(n,i){n._ownerReadableStream=i,i._reader=n,i._state==="readable"?os(n):i._state==="closed"?af(n):Wi(n,i._storedError)}function We(n,i){let l=n._ownerReadableStream;return Pe(l,i)}function _e(n){n._ownerReadableStream._state==="readable"?as(n,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):lf(n,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),n._ownerReadableStream._reader=void 0,n._ownerReadableStream=void 0}function Ot(n){return new TypeError("Cannot "+n+" a stream using a released reader")}function os(n){n._closedPromise=y((i,l)=>{n._closedPromise_resolve=i,n._closedPromise_reject=l})}function Wi(n,i){os(n),as(n,i)}function af(n){os(n),ji(n)}function as(n,i){n._closedPromise_reject!==void 0&&(D(n._closedPromise),n._closedPromise_reject(i),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0)}function lf(n,i){Wi(n,i)}function ji(n){n._closedPromise_resolve!==void 0&&(n._closedPromise_resolve(void 0),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0)}let Ui=e("[[AbortSteps]]"),Mi=e("[[ErrorSteps]]"),ls=e("[[CancelSteps]]"),us=e("[[PullSteps]]"),Hi=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},uf=Math.trunc||function(n){return n<0?Math.ceil(n):Math.floor(n)};function cf(n){return typeof n=="object"||typeof n=="function"}function je(n,i){if(n!==void 0&&!cf(n))throw new TypeError(`${i} is not an object.`)}function $e(n,i){if(typeof n!="function")throw new TypeError(`${i} is not a function.`)}function ff(n){return typeof n=="object"&&n!==null||typeof n=="function"}function Gi(n,i){if(!ff(n))throw new TypeError(`${i} is not an object.`)}function Ue(n,i,l){if(n===void 0)throw new TypeError(`Parameter ${i} is required in '${l}'.`)}function cs(n,i,l){if(n===void 0)throw new TypeError(`${i} is required in '${l}'.`)}function fs(n){return Number(n)}function Vi(n){return n===0?0:n}function hf(n){return Vi(uf(n))}function Yi(n,i){let f=Number.MAX_SAFE_INTEGER,p=Number(n);if(p=Vi(p),!Hi(p))throw new TypeError(`${i} is not a finite number`);if(p=hf(p),p<0||p>f)throw new TypeError(`${i} is outside the accepted range of ${0} to ${f}, inclusive`);return!Hi(p)||p===0?0:p}function hs(n,i){if(!et(n))throw new TypeError(`${i} is not a ReadableStream.`)}function It(n){return new or(n)}function Xi(n,i){n._reader._readRequests.push(i)}function ds(n,i,l){let p=n._reader._readRequests.shift();l?p._closeSteps():p._chunkSteps(i)}function Qr(n){return n._reader._readRequests.length}function Qi(n){let i=n._reader;return!(i===void 0||!Qe(i))}class or{constructor(i){if(Ue(i,1,"ReadableStreamDefaultReader"),hs(i,"First parameter"),tt(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");M(this,i),this._readRequests=new U}get closed(){return Qe(this)?this._closedPromise:b(Zr("closed"))}cancel(i=void 0){return Qe(this)?this._ownerReadableStream===void 0?b(Ot("cancel")):We(this,i):b(Zr("cancel"))}read(){if(!Qe(this))return b(Zr("read"));if(this._ownerReadableStream===void 0)return b(Ot("read from"));let i,l,f=y((_,E)=>{i=_,l=E});return ar(this,{_chunkSteps:_=>i({value:_,done:!1}),_closeSteps:()=>i({value:void 0,done:!0}),_errorSteps:_=>l(_)}),f}releaseLock(){if(!Qe(this))throw Zr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_e(this)}}}Object.defineProperties(or.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(or.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Qe(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_readRequests")?!1:n instanceof or}function ar(n,i){let l=n._ownerReadableStream;l._disturbed=!0,l._state==="closed"?i._closeSteps():l._state==="errored"?i._errorSteps(l._storedError):l._readableStreamController[us](i)}function Zr(n){return new TypeError(`ReadableStreamDefaultReader.prototype.${n} can only be used on a ReadableStreamDefaultReader`)}let Zi=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Ji{constructor(i,l){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=i,this._preventCancel=l}next(){let i=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?O(this._ongoingPromise,i,i):i(),this._ongoingPromise}return(i){let l=()=>this._returnSteps(i);return this._ongoingPromise?O(this._ongoingPromise,l,l):l()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let i=this._reader;if(i._ownerReadableStream===void 0)return b(Ot("iterate"));let l,f,p=y((E,A)=>{l=E,f=A});return ar(i,{_chunkSteps:E=>{this._ongoingPromise=void 0,T(()=>l({value:E,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,_e(i),l({value:void 0,done:!0})},_errorSteps:E=>{this._ongoingPromise=void 0,this._isFinished=!0,_e(i),f(E)}}),p}_returnSteps(i){if(this._isFinished)return Promise.resolve({value:i,done:!0});this._isFinished=!0;let l=this._reader;if(l._ownerReadableStream===void 0)return b(Ot("finish iterating"));if(!this._preventCancel){let f=We(l,i);return _e(l),O(f,()=>({value:i,done:!0}))}return _e(l),m({value:i,done:!0})}}let Ki={next(){return eo(this)?this._asyncIteratorImpl.next():b(to("next"))},return(n){return eo(this)?this._asyncIteratorImpl.return(n):b(to("return"))}};Zi!==void 0&&Object.setPrototypeOf(Ki,Zi);function df(n,i){let l=It(n),f=new Ji(l,i),p=Object.create(Ki);return p._asyncIteratorImpl=f,p}function eo(n){if(!a(n)||!Object.prototype.hasOwnProperty.call(n,"_asyncIteratorImpl"))return!1;try{return n._asyncIteratorImpl instanceof Ji}catch{return!1}}function to(n){return new TypeError(`ReadableStreamAsyncIterator.${n} can only be used on a ReadableSteamAsyncIterator`)}let ro=Number.isNaN||function(n){return n!==n};function lr(n){return n.slice()}function no(n,i,l,f,p){new Uint8Array(n).set(new Uint8Array(l,f,p),i)}function Cb(n){return n}function Jr(n){return!1}function so(n,i,l){if(n.slice)return n.slice(i,l);let f=l-i,p=new ArrayBuffer(f);return no(p,0,n,i,f),p}function pf(n){return!(typeof n!="number"||ro(n)||n<0)}function io(n){let i=so(n.buffer,n.byteOffset,n.byteOffset+n.byteLength);return new Uint8Array(i)}function ps(n){let i=n._queue.shift();return n._queueTotalSize-=i.size,n._queueTotalSize<0&&(n._queueTotalSize=0),i.value}function ms(n,i,l){if(!pf(l)||l===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");n._queue.push({value:i,size:l}),n._queueTotalSize+=l}function mf(n){return n._queue.peek().value}function Ze(n){n._queue=new U,n._queueTotalSize=0}class ur{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!gs(this))throw _s("view");return this._view}respond(i){if(!gs(this))throw _s("respond");if(Ue(i,1,"respond"),i=Yi(i,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Jr(this._view.buffer),rn(this._associatedReadableByteStreamController,i)}respondWithNewView(i){if(!gs(this))throw _s("respondWithNewView");if(Ue(i,1,"respondWithNewView"),!ArrayBuffer.isView(i))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Jr(i.buffer),nn(this._associatedReadableByteStreamController,i)}}Object.defineProperties(ur.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(ur.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class xt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ft(this))throw fr("byobRequest");return ws(this)}get desiredSize(){if(!ft(this))throw fr("desiredSize");return po(this)}close(){if(!ft(this))throw fr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be closed`);cr(this)}enqueue(i){if(!ft(this))throw fr("enqueue");if(Ue(i,1,"enqueue"),!ArrayBuffer.isView(i))throw new TypeError("chunk must be an array buffer view");if(i.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(i.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let l=this._controlledReadableByteStream._state;if(l!=="readable")throw new TypeError(`The stream (in ${l} state) is not in the readable state and cannot be enqueued to`);tn(this,i)}error(i=void 0){if(!ft(this))throw fr("error");Ce(this,i)}[ls](i){oo(this),Ze(this);let l=this._cancelAlgorithm(i);return en(this),l}[us](i){let l=this._controlledReadableByteStream;if(this._queueTotalSize>0){let p=this._queue.shift();this._queueTotalSize-=p.byteLength,co(this);let _=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);i._chunkSteps(_);return}let f=this._autoAllocateChunkSize;if(f!==void 0){let p;try{p=new ArrayBuffer(f)}catch(E){i._errorSteps(E);return}let _={buffer:p,bufferByteLength:f,byteOffset:0,byteLength:f,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(_)}Xi(l,i),ht(this)}}Object.defineProperties(xt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ft(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledReadableByteStream")?!1:n instanceof xt}function gs(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_associatedReadableByteStreamController")?!1:n instanceof ur}function ht(n){if(!Sf(n))return;if(n._pulling){n._pullAgain=!0;return}n._pulling=!0;let l=n._pullAlgorithm();v(l,()=>{n._pulling=!1,n._pullAgain&&(n._pullAgain=!1,ht(n))},f=>{Ce(n,f)})}function oo(n){ys(n),n._pendingPullIntos=new U}function bs(n,i){let l=!1;n._state==="closed"&&(l=!0);let f=ao(i);i.readerType==="default"?ds(n,f,l):Ef(n,f,l)}function ao(n){let i=n.bytesFilled,l=n.elementSize;return new n.viewConstructor(n.buffer,n.byteOffset,i/l)}function Kr(n,i,l,f){n._queue.push({buffer:i,byteOffset:l,byteLength:f}),n._queueTotalSize+=f}function lo(n,i){let l=i.elementSize,f=i.bytesFilled-i.bytesFilled%l,p=Math.min(n._queueTotalSize,i.byteLength-i.bytesFilled),_=i.bytesFilled+p,E=_-_%l,A=p,I=!1;E>f&&(A=E-i.bytesFilled,I=!0);let F=n._queue;for(;A>0;){let X=F.peek(),V=Math.min(A,X.byteLength),J=i.byteOffset+i.bytesFilled;no(i.buffer,J,X.buffer,X.byteOffset,V),X.byteLength===V?F.shift():(X.byteOffset+=V,X.byteLength-=V),n._queueTotalSize-=V,uo(n,V,i),A-=V}return I}function uo(n,i,l){l.bytesFilled+=i}function co(n){n._queueTotalSize===0&&n._closeRequested?(en(n),Sr(n._controlledReadableByteStream)):ht(n)}function ys(n){n._byobRequest!==null&&(n._byobRequest._associatedReadableByteStreamController=void 0,n._byobRequest._view=null,n._byobRequest=null)}function fo(n){for(;n._pendingPullIntos.length>0;){if(n._queueTotalSize===0)return;let i=n._pendingPullIntos.peek();lo(n,i)&&(Ss(n),bs(n._controlledReadableByteStream,i))}}function gf(n,i,l){let f=n._controlledReadableByteStream,p=1;i.constructor!==DataView&&(p=i.constructor.BYTES_PER_ELEMENT);let _=i.constructor,E=i.buffer,A={buffer:E,bufferByteLength:E.byteLength,byteOffset:i.byteOffset,byteLength:i.byteLength,bytesFilled:0,elementSize:p,viewConstructor:_,readerType:"byob"};if(n._pendingPullIntos.length>0){n._pendingPullIntos.push(A),bo(f,l);return}if(f._state==="closed"){let I=new _(A.buffer,A.byteOffset,0);l._closeSteps(I);return}if(n._queueTotalSize>0){if(lo(n,A)){let I=ao(A);co(n),l._chunkSteps(I);return}if(n._closeRequested){let I=new TypeError("Insufficient bytes to fill elements in the given buffer");Ce(n,I),l._errorSteps(I);return}}n._pendingPullIntos.push(A),bo(f,l),ht(n)}function bf(n,i){let l=n._controlledReadableByteStream;if(Es(l))for(;yo(l)>0;){let f=Ss(n);bs(l,f)}}function yf(n,i,l){if(uo(n,i,l),l.bytesFilled<l.elementSize)return;Ss(n);let f=l.bytesFilled%l.elementSize;if(f>0){let p=l.byteOffset+l.bytesFilled,_=so(l.buffer,p-f,p);Kr(n,_,0,_.byteLength)}l.bytesFilled-=f,bs(n._controlledReadableByteStream,l),fo(n)}function ho(n,i){let l=n._pendingPullIntos.peek();ys(n),n._controlledReadableByteStream._state==="closed"?bf(n):yf(n,i,l),ht(n)}function Ss(n){return n._pendingPullIntos.shift()}function Sf(n){let i=n._controlledReadableByteStream;return i._state!=="readable"||n._closeRequested||!n._started?!1:!!(Qi(i)&&Qr(i)>0||Es(i)&&yo(i)>0||po(n)>0)}function en(n){n._pullAlgorithm=void 0,n._cancelAlgorithm=void 0}function cr(n){let i=n._controlledReadableByteStream;if(!(n._closeRequested||i._state!=="readable")){if(n._queueTotalSize>0){n._closeRequested=!0;return}if(n._pendingPullIntos.length>0&&n._pendingPullIntos.peek().bytesFilled>0){let f=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ce(n,f),f}en(n),Sr(i)}}function tn(n,i){let l=n._controlledReadableByteStream;if(n._closeRequested||l._state!=="readable")return;let f=i.buffer,p=i.byteOffset,_=i.byteLength,E=f;if(n._pendingPullIntos.length>0){let A=n._pendingPullIntos.peek();Jr(A.buffer),A.buffer=A.buffer}if(ys(n),Qi(l))if(Qr(l)===0)Kr(n,E,p,_);else{let A=new Uint8Array(E,p,_);ds(l,A,!1)}else Es(l)?(Kr(n,E,p,_),fo(n)):Kr(n,E,p,_);ht(n)}function Ce(n,i){let l=n._controlledReadableByteStream;l._state==="readable"&&(oo(n),Ze(n),en(n),jo(l,i))}function ws(n){if(n._byobRequest===null&&n._pendingPullIntos.length>0){let i=n._pendingPullIntos.peek(),l=new Uint8Array(i.buffer,i.byteOffset+i.bytesFilled,i.byteLength-i.bytesFilled),f=Object.create(ur.prototype);_f(f,n,l),n._byobRequest=f}return n._byobRequest}function po(n){let i=n._controlledReadableByteStream._state;return i==="errored"?null:i==="closed"?0:n._strategyHWM-n._queueTotalSize}function rn(n,i){let l=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(i!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(i===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(l.bytesFilled+i>l.byteLength)throw new RangeError("bytesWritten out of range")}l.buffer=l.buffer,ho(n,i)}function nn(n,i){let l=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(i.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(i.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(l.byteOffset+l.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(l.bufferByteLength!==i.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(l.bytesFilled+i.byteLength>l.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");l.buffer=i.buffer,ho(n,i.byteLength)}function mo(n,i,l,f,p,_,E){i._controlledReadableByteStream=n,i._pullAgain=!1,i._pulling=!1,i._byobRequest=null,i._queue=i._queueTotalSize=void 0,Ze(i),i._closeRequested=!1,i._started=!1,i._strategyHWM=_,i._pullAlgorithm=f,i._cancelAlgorithm=p,i._autoAllocateChunkSize=E,i._pendingPullIntos=new U,n._readableStreamController=i;let A=l();v(m(A),()=>{i._started=!0,ht(i)},I=>{Ce(i,I)})}function wf(n,i,l){let f=Object.create(xt.prototype),p=()=>{},_=()=>m(void 0),E=()=>m(void 0);i.start!==void 0&&(p=()=>i.start(f)),i.pull!==void 0&&(_=()=>i.pull(f)),i.cancel!==void 0&&(E=I=>i.cancel(I));let A=i.autoAllocateChunkSize;if(A===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");mo(n,f,p,_,E,l,A)}function _f(n,i,l){n._associatedReadableByteStreamController=i,n._view=l}function _s(n){return new TypeError(`ReadableStreamBYOBRequest.prototype.${n} can only be used on a ReadableStreamBYOBRequest`)}function fr(n){return new TypeError(`ReadableByteStreamController.prototype.${n} can only be used on a ReadableByteStreamController`)}function go(n){return new hr(n)}function bo(n,i){n._reader._readIntoRequests.push(i)}function Ef(n,i,l){let p=n._reader._readIntoRequests.shift();l?p._closeSteps(i):p._chunkSteps(i)}function yo(n){return n._reader._readIntoRequests.length}function Es(n){let i=n._reader;return!(i===void 0||!dt(i))}class hr{constructor(i){if(Ue(i,1,"ReadableStreamBYOBReader"),hs(i,"First parameter"),tt(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ft(i._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");M(this,i),this._readIntoRequests=new U}get closed(){return dt(this)?this._closedPromise:b(sn("closed"))}cancel(i=void 0){return dt(this)?this._ownerReadableStream===void 0?b(Ot("cancel")):We(this,i):b(sn("cancel"))}read(i){if(!dt(this))return b(sn("read"));if(!ArrayBuffer.isView(i))return b(new TypeError("view must be an array buffer view"));if(i.byteLength===0)return b(new TypeError("view must have non-zero byteLength"));if(i.buffer.byteLength===0)return b(new TypeError("view's buffer must have non-zero byteLength"));if(Jr(i.buffer),this._ownerReadableStream===void 0)return b(Ot("read from"));let l,f,p=y((E,A)=>{l=E,f=A});return So(this,i,{_chunkSteps:E=>l({value:E,done:!1}),_closeSteps:E=>l({value:E,done:!0}),_errorSteps:E=>f(E)}),p}releaseLock(){if(!dt(this))throw sn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_e(this)}}}Object.defineProperties(hr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(hr.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function dt(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_readIntoRequests")?!1:n instanceof hr}function So(n,i,l){let f=n._ownerReadableStream;f._disturbed=!0,f._state==="errored"?l._errorSteps(f._storedError):gf(f._readableStreamController,i,l)}function sn(n){return new TypeError(`ReadableStreamBYOBReader.prototype.${n} can only be used on a ReadableStreamBYOBReader`)}function dr(n,i){let{highWaterMark:l}=n;if(l===void 0)return i;if(ro(l)||l<0)throw new RangeError("Invalid highWaterMark");return l}function on(n){let{size:i}=n;return i||(()=>1)}function an(n,i){je(n,i);let l=n==null?void 0:n.highWaterMark,f=n==null?void 0:n.size;return{highWaterMark:l===void 0?void 0:fs(l),size:f===void 0?void 0:Rf(f,`${i} has member 'size' that`)}}function Rf(n,i){return $e(n,i),l=>fs(n(l))}function vf(n,i){je(n,i);let l=n==null?void 0:n.abort,f=n==null?void 0:n.close,p=n==null?void 0:n.start,_=n==null?void 0:n.type,E=n==null?void 0:n.write;return{abort:l===void 0?void 0:Tf(l,n,`${i} has member 'abort' that`),close:f===void 0?void 0:Af(f,n,`${i} has member 'close' that`),start:p===void 0?void 0:$f(p,n,`${i} has member 'start' that`),write:E===void 0?void 0:Cf(E,n,`${i} has member 'write' that`),type:_}}function Tf(n,i,l){return $e(n,l),f=>q(n,i,[f])}function Af(n,i,l){return $e(n,l),()=>q(n,i,[])}function $f(n,i,l){return $e(n,l),f=>B(n,i,[f])}function Cf(n,i,l){return $e(n,l),(f,p)=>q(n,i,[f,p])}function wo(n,i){if(!Lt(n))throw new TypeError(`${i} is not a WritableStream.`)}function Pf(n){if(typeof n!="object"||n===null)return!1;try{return typeof n.aborted=="boolean"}catch{return!1}}let Of=typeof AbortController=="function";function If(){if(Of)return new AbortController}class pr{constructor(i={},l={}){i===void 0?i=null:Gi(i,"First parameter");let f=an(l,"Second parameter"),p=vf(i,"First parameter");if(Eo(this),p.type!==void 0)throw new RangeError("Invalid type is specified");let E=on(f),A=dr(f,1);Hf(this,p,A,E)}get locked(){if(!Lt(this))throw hn("locked");return qt(this)}abort(i=void 0){return Lt(this)?qt(this)?b(new TypeError("Cannot abort a stream that already has a writer")):ln(this,i):b(hn("abort"))}close(){return Lt(this)?qt(this)?b(new TypeError("Cannot close a stream that already has a writer")):qe(this)?b(new TypeError("Cannot close an already-closing stream")):Ro(this):b(hn("close"))}getWriter(){if(!Lt(this))throw hn("getWriter");return _o(this)}}Object.defineProperties(pr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function _o(n){return new mr(n)}function xf(n,i,l,f,p=1,_=()=>1){let E=Object.create(pr.prototype);Eo(E);let A=Object.create(Dt.prototype);return Po(E,A,n,i,l,f,p,_),E}function Eo(n){n._state="writable",n._storedError=void 0,n._writer=void 0,n._writableStreamController=void 0,n._writeRequests=new U,n._inFlightWriteRequest=void 0,n._closeRequest=void 0,n._inFlightCloseRequest=void 0,n._pendingAbortRequest=void 0,n._backpressure=!1}function Lt(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_writableStreamController")?!1:n instanceof pr}function qt(n){return n._writer!==void 0}function ln(n,i){var l;if(n._state==="closed"||n._state==="errored")return m(void 0);n._writableStreamController._abortReason=i,(l=n._writableStreamController._abortController)===null||l===void 0||l.abort();let f=n._state;if(f==="closed"||f==="errored")return m(void 0);if(n._pendingAbortRequest!==void 0)return n._pendingAbortRequest._promise;let p=!1;f==="erroring"&&(p=!0,i=void 0);let _=y((E,A)=>{n._pendingAbortRequest={_promise:void 0,_resolve:E,_reject:A,_reason:i,_wasAlreadyErroring:p}});return n._pendingAbortRequest._promise=_,p||vs(n,i),_}function Ro(n){let i=n._state;if(i==="closed"||i==="errored")return b(new TypeError(`The stream (in ${i} state) is not in the writable state and cannot be closed`));let l=y((p,_)=>{let E={_resolve:p,_reject:_};n._closeRequest=E}),f=n._writer;return f!==void 0&&n._backpressure&&i==="writable"&&Ls(f),Gf(n._writableStreamController),l}function Lf(n){return y((l,f)=>{let p={_resolve:l,_reject:f};n._writeRequests.push(p)})}function Rs(n,i){if(n._state==="writable"){vs(n,i);return}Ts(n)}function vs(n,i){let l=n._writableStreamController;n._state="erroring",n._storedError=i;let f=n._writer;f!==void 0&&To(f,i),!kf(n)&&l._started&&Ts(n)}function Ts(n){n._state="errored",n._writableStreamController[Mi]();let i=n._storedError;if(n._writeRequests.forEach(p=>{p._reject(i)}),n._writeRequests=new U,n._pendingAbortRequest===void 0){un(n);return}let l=n._pendingAbortRequest;if(n._pendingAbortRequest=void 0,l._wasAlreadyErroring){l._reject(i),un(n);return}let f=n._writableStreamController[Ui](l._reason);v(f,()=>{l._resolve(),un(n)},p=>{l._reject(p),un(n)})}function qf(n){n._inFlightWriteRequest._resolve(void 0),n._inFlightWriteRequest=void 0}function Df(n,i){n._inFlightWriteRequest._reject(i),n._inFlightWriteRequest=void 0,Rs(n,i)}function Bf(n){n._inFlightCloseRequest._resolve(void 0),n._inFlightCloseRequest=void 0,n._state==="erroring"&&(n._storedError=void 0,n._pendingAbortRequest!==void 0&&(n._pendingAbortRequest._resolve(),n._pendingAbortRequest=void 0)),n._state="closed";let l=n._writer;l!==void 0&&Lo(l)}function Nf(n,i){n._inFlightCloseRequest._reject(i),n._inFlightCloseRequest=void 0,n._pendingAbortRequest!==void 0&&(n._pendingAbortRequest._reject(i),n._pendingAbortRequest=void 0),Rs(n,i)}function qe(n){return!(n._closeRequest===void 0&&n._inFlightCloseRequest===void 0)}function kf(n){return!(n._inFlightWriteRequest===void 0&&n._inFlightCloseRequest===void 0)}function zf(n){n._inFlightCloseRequest=n._closeRequest,n._closeRequest=void 0}function Ff(n){n._inFlightWriteRequest=n._writeRequests.shift()}function un(n){n._closeRequest!==void 0&&(n._closeRequest._reject(n._storedError),n._closeRequest=void 0);let i=n._writer;i!==void 0&&Is(i,n._storedError)}function As(n,i){let l=n._writer;l!==void 0&&i!==n._backpressure&&(i?Kf(l):Ls(l)),n._backpressure=i}class mr{constructor(i){if(Ue(i,1,"WritableStreamDefaultWriter"),wo(i,"First parameter"),qt(i))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=i,i._writer=this;let l=i._state;if(l==="writable")!qe(i)&&i._backpressure?pn(this):qo(this),dn(this);else if(l==="erroring")xs(this,i._storedError),dn(this);else if(l==="closed")qo(this),Zf(this);else{let f=i._storedError;xs(this,f),xo(this,f)}}get closed(){return pt(this)?this._closedPromise:b(mt("closed"))}get desiredSize(){if(!pt(this))throw mt("desiredSize");if(this._ownerWritableStream===void 0)throw gr("desiredSize");return Mf(this)}get ready(){return pt(this)?this._readyPromise:b(mt("ready"))}abort(i=void 0){return pt(this)?this._ownerWritableStream===void 0?b(gr("abort")):Wf(this,i):b(mt("abort"))}close(){if(!pt(this))return b(mt("close"));let i=this._ownerWritableStream;return i===void 0?b(gr("close")):qe(i)?b(new TypeError("Cannot close an already-closing stream")):vo(this)}releaseLock(){if(!pt(this))throw mt("releaseLock");this._ownerWritableStream!==void 0&&Ao(this)}write(i=void 0){return pt(this)?this._ownerWritableStream===void 0?b(gr("write to")):$o(this,i):b(mt("write"))}}Object.defineProperties(mr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(mr.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function pt(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_ownerWritableStream")?!1:n instanceof mr}function Wf(n,i){let l=n._ownerWritableStream;return ln(l,i)}function vo(n){let i=n._ownerWritableStream;return Ro(i)}function jf(n){let i=n._ownerWritableStream,l=i._state;return qe(i)||l==="closed"?m(void 0):l==="errored"?b(i._storedError):vo(n)}function Uf(n,i){n._closedPromiseState==="pending"?Is(n,i):Jf(n,i)}function To(n,i){n._readyPromiseState==="pending"?Do(n,i):eh(n,i)}function Mf(n){let i=n._ownerWritableStream,l=i._state;return l==="errored"||l==="erroring"?null:l==="closed"?0:Oo(i._writableStreamController)}function Ao(n){let i=n._ownerWritableStream,l=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");To(n,l),Uf(n,l),i._writer=void 0,n._ownerWritableStream=void 0}function $o(n,i){let l=n._ownerWritableStream,f=l._writableStreamController,p=Vf(f,i);if(l!==n._ownerWritableStream)return b(gr("write to"));let _=l._state;if(_==="errored")return b(l._storedError);if(qe(l)||_==="closed")return b(new TypeError("The stream is closing or closed and cannot be written to"));if(_==="erroring")return b(l._storedError);let E=Lf(l);return Yf(f,i,p),E}let Co={};class Dt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!$s(this))throw Os("abortReason");return this._abortReason}get signal(){if(!$s(this))throw Os("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(i=void 0){if(!$s(this))throw Os("error");this._controlledWritableStream._state==="writable"&&Io(this,i)}[Ui](i){let l=this._abortAlgorithm(i);return cn(this),l}[Mi](){Ze(this)}}Object.defineProperties(Dt.prototype,{error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function $s(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledWritableStream")?!1:n instanceof Dt}function Po(n,i,l,f,p,_,E,A){i._controlledWritableStream=n,n._writableStreamController=i,i._queue=void 0,i._queueTotalSize=void 0,Ze(i),i._abortReason=void 0,i._abortController=If(),i._started=!1,i._strategySizeAlgorithm=A,i._strategyHWM=E,i._writeAlgorithm=f,i._closeAlgorithm=p,i._abortAlgorithm=_;let I=Ps(i);As(n,I);let F=l(),X=m(F);v(X,()=>{i._started=!0,fn(i)},V=>{i._started=!0,Rs(n,V)})}function Hf(n,i,l,f){let p=Object.create(Dt.prototype),_=()=>{},E=()=>m(void 0),A=()=>m(void 0),I=()=>m(void 0);i.start!==void 0&&(_=()=>i.start(p)),i.write!==void 0&&(E=F=>i.write(F,p)),i.close!==void 0&&(A=()=>i.close()),i.abort!==void 0&&(I=F=>i.abort(F)),Po(n,p,_,E,A,I,l,f)}function cn(n){n._writeAlgorithm=void 0,n._closeAlgorithm=void 0,n._abortAlgorithm=void 0,n._strategySizeAlgorithm=void 0}function Gf(n){ms(n,Co,0),fn(n)}function Vf(n,i){try{return n._strategySizeAlgorithm(i)}catch(l){return Cs(n,l),1}}function Oo(n){return n._strategyHWM-n._queueTotalSize}function Yf(n,i,l){try{ms(n,i,l)}catch(p){Cs(n,p);return}let f=n._controlledWritableStream;if(!qe(f)&&f._state==="writable"){let p=Ps(n);As(f,p)}fn(n)}function fn(n){let i=n._controlledWritableStream;if(!n._started||i._inFlightWriteRequest!==void 0)return;if(i._state==="erroring"){Ts(i);return}if(n._queue.length===0)return;let f=mf(n);f===Co?Xf(n):Qf(n,f)}function Cs(n,i){n._controlledWritableStream._state==="writable"&&Io(n,i)}function Xf(n){let i=n._controlledWritableStream;zf(i),ps(n);let l=n._closeAlgorithm();cn(n),v(l,()=>{Bf(i)},f=>{Nf(i,f)})}function Qf(n,i){let l=n._controlledWritableStream;Ff(l);let f=n._writeAlgorithm(i);v(f,()=>{qf(l);let p=l._state;if(ps(n),!qe(l)&&p==="writable"){let _=Ps(n);As(l,_)}fn(n)},p=>{l._state==="writable"&&cn(n),Df(l,p)})}function Ps(n){return Oo(n)<=0}function Io(n,i){let l=n._controlledWritableStream;cn(n),vs(l,i)}function hn(n){return new TypeError(`WritableStream.prototype.${n} can only be used on a WritableStream`)}function Os(n){return new TypeError(`WritableStreamDefaultController.prototype.${n} can only be used on a WritableStreamDefaultController`)}function mt(n){return new TypeError(`WritableStreamDefaultWriter.prototype.${n} can only be used on a WritableStreamDefaultWriter`)}function gr(n){return new TypeError("Cannot "+n+" a stream using a released writer")}function dn(n){n._closedPromise=y((i,l)=>{n._closedPromise_resolve=i,n._closedPromise_reject=l,n._closedPromiseState="pending"})}function xo(n,i){dn(n),Is(n,i)}function Zf(n){dn(n),Lo(n)}function Is(n,i){n._closedPromise_reject!==void 0&&(D(n._closedPromise),n._closedPromise_reject(i),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="rejected")}function Jf(n,i){xo(n,i)}function Lo(n){n._closedPromise_resolve!==void 0&&(n._closedPromise_resolve(void 0),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="resolved")}function pn(n){n._readyPromise=y((i,l)=>{n._readyPromise_resolve=i,n._readyPromise_reject=l}),n._readyPromiseState="pending"}function xs(n,i){pn(n),Do(n,i)}function qo(n){pn(n),Ls(n)}function Do(n,i){n._readyPromise_reject!==void 0&&(D(n._readyPromise),n._readyPromise_reject(i),n._readyPromise_resolve=void 0,n._readyPromise_reject=void 0,n._readyPromiseState="rejected")}function Kf(n){pn(n)}function eh(n,i){xs(n,i)}function Ls(n){n._readyPromise_resolve!==void 0&&(n._readyPromise_resolve(void 0),n._readyPromise_resolve=void 0,n._readyPromise_reject=void 0,n._readyPromiseState="fulfilled")}let Bo=typeof DOMException<"u"?DOMException:void 0;function th(n){if(!(typeof n=="function"||typeof n=="object"))return!1;try{return new n,!0}catch{return!1}}function rh(){let n=function(l,f){this.message=l||"",this.name=f||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return n.prototype=Object.create(Error.prototype),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,configurable:!0}),n}let nh=th(Bo)?Bo:rh();function No(n,i,l,f,p,_){let E=It(n),A=_o(i);n._disturbed=!0;let I=!1,F=m(void 0);return y((X,V)=>{let J;if(_!==void 0){if(J=()=>{let L=new nh("Aborted","AbortError"),H=[];f||H.push(()=>i._state==="writable"?ln(i,L):m(void 0)),p||H.push(()=>n._state==="readable"?Pe(n,L):m(void 0)),me(()=>Promise.all(H.map(te=>te())),!0,L)},_.aborted){J();return}_.addEventListener("abort",J)}function rt(){return y((L,H)=>{function te(Oe){Oe?L():S(_r(),te,H)}te(!1)})}function _r(){return I?m(!0):S(A._readyPromise,()=>y((L,H)=>{ar(E,{_chunkSteps:te=>{F=S($o(A,te),void 0,t),L(!1)},_closeSteps:()=>L(!0),_errorSteps:H})}))}if(pe(n,E._closedPromise,L=>{f?Y(!0,L):me(()=>ln(i,L),!0,L)}),pe(i,A._closedPromise,L=>{p?Y(!0,L):me(()=>Pe(n,L),!0,L)}),De(n,E._closedPromise,()=>{l?Y():me(()=>jf(A))}),qe(i)||i._state==="closed"){let L=new TypeError("the destination writable stream closed before all data could be piped to it");p?Y(!0,L):me(()=>Pe(n,L),!0,L)}D(rt());function nt(){let L=F;return S(F,()=>L!==F?nt():void 0)}function pe(L,H,te){L._state==="errored"?te(L._storedError):R(H,te)}function De(L,H,te){L._state==="closed"?te():w(H,te)}function me(L,H,te){if(I)return;I=!0,i._state==="writable"&&!qe(i)?w(nt(),Oe):Oe();function Oe(){v(L(),()=>Z(H,te),st=>Z(!0,st))}}function Y(L,H){I||(I=!0,i._state==="writable"&&!qe(i)?w(nt(),()=>Z(L,H)):Z(L,H))}function Z(L,H){Ao(A),_e(E),_!==void 0&&_.removeEventListener("abort",J),L?V(H):X(void 0)}})}class Bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!mn(this))throw yn("desiredSize");return qs(this)}close(){if(!mn(this))throw yn("close");if(!Nt(this))throw new TypeError("The stream is not in a state that permits close");yr(this)}enqueue(i=void 0){if(!mn(this))throw yn("enqueue");if(!Nt(this))throw new TypeError("The stream is not in a state that permits enqueue");return bn(this,i)}error(i=void 0){if(!mn(this))throw yn("error");Je(this,i)}[ls](i){Ze(this);let l=this._cancelAlgorithm(i);return gn(this),l}[us](i){let l=this._controlledReadableStream;if(this._queue.length>0){let f=ps(this);this._closeRequested&&this._queue.length===0?(gn(this),Sr(l)):br(this),i._chunkSteps(f)}else Xi(l,i),br(this)}}Object.defineProperties(Bt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function mn(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledReadableStream")?!1:n instanceof Bt}function br(n){if(!ko(n))return;if(n._pulling){n._pullAgain=!0;return}n._pulling=!0;let l=n._pullAlgorithm();v(l,()=>{n._pulling=!1,n._pullAgain&&(n._pullAgain=!1,br(n))},f=>{Je(n,f)})}function ko(n){let i=n._controlledReadableStream;return!Nt(n)||!n._started?!1:!!(tt(i)&&Qr(i)>0||qs(n)>0)}function gn(n){n._pullAlgorithm=void 0,n._cancelAlgorithm=void 0,n._strategySizeAlgorithm=void 0}function yr(n){if(!Nt(n))return;let i=n._controlledReadableStream;n._closeRequested=!0,n._queue.length===0&&(gn(n),Sr(i))}function bn(n,i){if(!Nt(n))return;let l=n._controlledReadableStream;if(tt(l)&&Qr(l)>0)ds(l,i,!1);else{let f;try{f=n._strategySizeAlgorithm(i)}catch(p){throw Je(n,p),p}try{ms(n,i,f)}catch(p){throw Je(n,p),p}}br(n)}function Je(n,i){let l=n._controlledReadableStream;l._state==="readable"&&(Ze(n),gn(n),jo(l,i))}function qs(n){let i=n._controlledReadableStream._state;return i==="errored"?null:i==="closed"?0:n._strategyHWM-n._queueTotalSize}function sh(n){return!ko(n)}function Nt(n){let i=n._controlledReadableStream._state;return!n._closeRequested&&i==="readable"}function zo(n,i,l,f,p,_,E){i._controlledReadableStream=n,i._queue=void 0,i._queueTotalSize=void 0,Ze(i),i._started=!1,i._closeRequested=!1,i._pullAgain=!1,i._pulling=!1,i._strategySizeAlgorithm=E,i._strategyHWM=_,i._pullAlgorithm=f,i._cancelAlgorithm=p,n._readableStreamController=i;let A=l();v(m(A),()=>{i._started=!0,br(i)},I=>{Je(i,I)})}function ih(n,i,l,f){let p=Object.create(Bt.prototype),_=()=>{},E=()=>m(void 0),A=()=>m(void 0);i.start!==void 0&&(_=()=>i.start(p)),i.pull!==void 0&&(E=()=>i.pull(p)),i.cancel!==void 0&&(A=I=>i.cancel(I)),zo(n,p,_,E,A,l,f)}function yn(n){return new TypeError(`ReadableStreamDefaultController.prototype.${n} can only be used on a ReadableStreamDefaultController`)}function oh(n,i){return ft(n._readableStreamController)?lh(n):ah(n)}function ah(n,i){let l=It(n),f=!1,p=!1,_=!1,E,A,I,F,X,V=y(pe=>{X=pe});function J(){return f||(f=!0,ar(l,{_chunkSteps:De=>{T(()=>{f=!1;let me=De,Y=De;p||bn(I._readableStreamController,me),_||bn(F._readableStreamController,Y)})},_closeSteps:()=>{f=!1,p||yr(I._readableStreamController),_||yr(F._readableStreamController),(!p||!_)&&X(void 0)},_errorSteps:()=>{f=!1}})),m(void 0)}function rt(pe){if(p=!0,E=pe,_){let De=lr([E,A]),me=Pe(n,De);X(me)}return V}function _r(pe){if(_=!0,A=pe,p){let De=lr([E,A]),me=Pe(n,De);X(me)}return V}function nt(){}return I=Ds(nt,J,rt),F=Ds(nt,J,_r),R(l._closedPromise,pe=>{Je(I._readableStreamController,pe),Je(F._readableStreamController,pe),(!p||!_)&&X(void 0)}),[I,F]}function lh(n){let i=It(n),l=!1,f=!1,p=!1,_,E,A,I,F,X=y(Y=>{F=Y});function V(Y){R(Y._closedPromise,Z=>{Y===i&&(Ce(A._readableStreamController,Z),Ce(I._readableStreamController,Z),(!f||!p)&&F(void 0))})}function J(){dt(i)&&(_e(i),i=It(n),V(i)),ar(i,{_chunkSteps:Z=>{T(()=>{l=!1;let L=Z,H=Z;if(!f&&!p)try{H=io(Z)}catch(te){Ce(A._readableStreamController,te),Ce(I._readableStreamController,te),F(Pe(n,te));return}f||tn(A._readableStreamController,L),p||tn(I._readableStreamController,H)})},_closeSteps:()=>{l=!1,f||cr(A._readableStreamController),p||cr(I._readableStreamController),A._readableStreamController._pendingPullIntos.length>0&&rn(A._readableStreamController,0),I._readableStreamController._pendingPullIntos.length>0&&rn(I._readableStreamController,0),(!f||!p)&&F(void 0)},_errorSteps:()=>{l=!1}})}function rt(Y,Z){Qe(i)&&(_e(i),i=go(n),V(i));let L=Z?I:A,H=Z?A:I;So(i,Y,{_chunkSteps:Oe=>{T(()=>{l=!1;let st=Z?p:f;if(Z?f:p)st||nn(L._readableStreamController,Oe);else{let ta;try{ta=io(Oe)}catch(Ns){Ce(L._readableStreamController,Ns),Ce(H._readableStreamController,Ns),F(Pe(n,Ns));return}st||nn(L._readableStreamController,Oe),tn(H._readableStreamController,ta)}})},_closeSteps:Oe=>{l=!1;let st=Z?p:f,$n=Z?f:p;st||cr(L._readableStreamController),$n||cr(H._readableStreamController),Oe!==void 0&&(st||nn(L._readableStreamController,Oe),!$n&&H._readableStreamController._pendingPullIntos.length>0&&rn(H._readableStreamController,0)),(!st||!$n)&&F(void 0)},_errorSteps:()=>{l=!1}})}function _r(){if(l)return m(void 0);l=!0;let Y=ws(A._readableStreamController);return Y===null?J():rt(Y._view,!1),m(void 0)}function nt(){if(l)return m(void 0);l=!0;let Y=ws(I._readableStreamController);return Y===null?J():rt(Y._view,!0),m(void 0)}function pe(Y){if(f=!0,_=Y,p){let Z=lr([_,E]),L=Pe(n,Z);F(L)}return X}function De(Y){if(p=!0,E=Y,f){let Z=lr([_,E]),L=Pe(n,Z);F(L)}return X}function me(){}return A=Wo(me,_r,pe),I=Wo(me,nt,De),V(i),[A,I]}function uh(n,i){je(n,i);let l=n,f=l==null?void 0:l.autoAllocateChunkSize,p=l==null?void 0:l.cancel,_=l==null?void 0:l.pull,E=l==null?void 0:l.start,A=l==null?void 0:l.type;return{autoAllocateChunkSize:f===void 0?void 0:Yi(f,`${i} has member 'autoAllocateChunkSize' that`),cancel:p===void 0?void 0:ch(p,l,`${i} has member 'cancel' that`),pull:_===void 0?void 0:fh(_,l,`${i} has member 'pull' that`),start:E===void 0?void 0:hh(E,l,`${i} has member 'start' that`),type:A===void 0?void 0:dh(A,`${i} has member 'type' that`)}}function ch(n,i,l){return $e(n,l),f=>q(n,i,[f])}function fh(n,i,l){return $e(n,l),f=>q(n,i,[f])}function hh(n,i,l){return $e(n,l),f=>B(n,i,[f])}function dh(n,i){if(n=`${n}`,n!=="bytes")throw new TypeError(`${i} '${n}' is not a valid enumeration value for ReadableStreamType`);return n}function ph(n,i){je(n,i);let l=n==null?void 0:n.mode;return{mode:l===void 0?void 0:mh(l,`${i} has member 'mode' that`)}}function mh(n,i){if(n=`${n}`,n!=="byob")throw new TypeError(`${i} '${n}' is not a valid enumeration value for ReadableStreamReaderMode`);return n}function gh(n,i){je(n,i);let l=n==null?void 0:n.preventCancel;return{preventCancel:Boolean(l)}}function Fo(n,i){je(n,i);let l=n==null?void 0:n.preventAbort,f=n==null?void 0:n.preventCancel,p=n==null?void 0:n.preventClose,_=n==null?void 0:n.signal;return _!==void 0&&bh(_,`${i} has member 'signal' that`),{preventAbort:Boolean(l),preventCancel:Boolean(f),preventClose:Boolean(p),signal:_}}function bh(n,i){if(!Pf(n))throw new TypeError(`${i} is not an AbortSignal.`)}function yh(n,i){je(n,i);let l=n==null?void 0:n.readable;cs(l,"readable","ReadableWritablePair"),hs(l,`${i} has member 'readable' that`);let f=n==null?void 0:n.writable;return cs(f,"writable","ReadableWritablePair"),wo(f,`${i} has member 'writable' that`),{readable:l,writable:f}}class Ke{constructor(i={},l={}){i===void 0?i=null:Gi(i,"First parameter");let f=an(l,"Second parameter"),p=uh(i,"First parameter");if(Bs(this),p.type==="bytes"){if(f.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let _=dr(f,0);wf(this,p,_)}else{let _=on(f),E=dr(f,1);ih(this,p,E,_)}}get locked(){if(!et(this))throw gt("locked");return tt(this)}cancel(i=void 0){return et(this)?tt(this)?b(new TypeError("Cannot cancel a stream that already has a reader")):Pe(this,i):b(gt("cancel"))}getReader(i=void 0){if(!et(this))throw gt("getReader");return ph(i,"First parameter").mode===void 0?It(this):go(this)}pipeThrough(i,l={}){if(!et(this))throw gt("pipeThrough");Ue(i,1,"pipeThrough");let f=yh(i,"First parameter"),p=Fo(l,"Second parameter");if(tt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(qt(f.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let _=No(this,f.writable,p.preventClose,p.preventAbort,p.preventCancel,p.signal);return D(_),f.readable}pipeTo(i,l={}){if(!et(this))return b(gt("pipeTo"));if(i===void 0)return b("Parameter 1 is required in 'pipeTo'.");if(!Lt(i))return b(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let f;try{f=Fo(l,"Second parameter")}catch(p){return b(p)}return tt(this)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):qt(i)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):No(this,i,f.preventClose,f.preventAbort,f.preventCancel,f.signal)}tee(){if(!et(this))throw gt("tee");let i=oh(this);return lr(i)}values(i=void 0){if(!et(this))throw gt("values");let l=gh(i,"First parameter");return df(this,l.preventCancel)}}Object.defineProperties(Ke.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ke.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(Ke.prototype,e.asyncIterator,{value:Ke.prototype.values,writable:!0,configurable:!0});function Ds(n,i,l,f=1,p=()=>1){let _=Object.create(Ke.prototype);Bs(_);let E=Object.create(Bt.prototype);return zo(_,E,n,i,l,f,p),_}function Wo(n,i,l){let f=Object.create(Ke.prototype);Bs(f);let p=Object.create(xt.prototype);return mo(f,p,n,i,l,0,void 0),f}function Bs(n){n._state="readable",n._reader=void 0,n._storedError=void 0,n._disturbed=!1}function et(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_readableStreamController")?!1:n instanceof Ke}function tt(n){return n._reader!==void 0}function Pe(n,i){if(n._disturbed=!0,n._state==="closed")return m(void 0);if(n._state==="errored")return b(n._storedError);Sr(n);let l=n._reader;l!==void 0&&dt(l)&&(l._readIntoRequests.forEach(p=>{p._closeSteps(void 0)}),l._readIntoRequests=new U);let f=n._readableStreamController[ls](i);return O(f,t)}function Sr(n){n._state="closed";let i=n._reader;i!==void 0&&(ji(i),Qe(i)&&(i._readRequests.forEach(l=>{l._closeSteps()}),i._readRequests=new U))}function jo(n,i){n._state="errored",n._storedError=i;let l=n._reader;l!==void 0&&(as(l,i),Qe(l)?(l._readRequests.forEach(f=>{f._errorSteps(i)}),l._readRequests=new U):(l._readIntoRequests.forEach(f=>{f._errorSteps(i)}),l._readIntoRequests=new U))}function gt(n){return new TypeError(`ReadableStream.prototype.${n} can only be used on a ReadableStream`)}function Uo(n,i){je(n,i);let l=n==null?void 0:n.highWaterMark;return cs(l,"highWaterMark","QueuingStrategyInit"),{highWaterMark:fs(l)}}let Mo=n=>n.byteLength;Object.defineProperty(Mo,"name",{value:"size",configurable:!0});class Sn{constructor(i){Ue(i,1,"ByteLengthQueuingStrategy"),i=Uo(i,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=i.highWaterMark}get highWaterMark(){if(!Go(this))throw Ho("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Go(this))throw Ho("size");return Mo}}Object.defineProperties(Sn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Sn.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ho(n){return new TypeError(`ByteLengthQueuingStrategy.prototype.${n} can only be used on a ByteLengthQueuingStrategy`)}function Go(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_byteLengthQueuingStrategyHighWaterMark")?!1:n instanceof Sn}let Vo=()=>1;Object.defineProperty(Vo,"name",{value:"size",configurable:!0});class wn{constructor(i){Ue(i,1,"CountQueuingStrategy"),i=Uo(i,"First parameter"),this._countQueuingStrategyHighWaterMark=i.highWaterMark}get highWaterMark(){if(!Xo(this))throw Yo("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Xo(this))throw Yo("size");return Vo}}Object.defineProperties(wn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(wn.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Yo(n){return new TypeError(`CountQueuingStrategy.prototype.${n} can only be used on a CountQueuingStrategy`)}function Xo(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_countQueuingStrategyHighWaterMark")?!1:n instanceof wn}function Sh(n,i){je(n,i);let l=n==null?void 0:n.flush,f=n==null?void 0:n.readableType,p=n==null?void 0:n.start,_=n==null?void 0:n.transform,E=n==null?void 0:n.writableType;return{flush:l===void 0?void 0:wh(l,n,`${i} has member 'flush' that`),readableType:f,start:p===void 0?void 0:_h(p,n,`${i} has member 'start' that`),transform:_===void 0?void 0:Eh(_,n,`${i} has member 'transform' that`),writableType:E}}function wh(n,i,l){return $e(n,l),f=>q(n,i,[f])}function _h(n,i,l){return $e(n,l),f=>B(n,i,[f])}function Eh(n,i,l){return $e(n,l),(f,p)=>q(n,i,[f,p])}class _n{constructor(i={},l={},f={}){i===void 0&&(i=null);let p=an(l,"Second parameter"),_=an(f,"Third parameter"),E=Sh(i,"First parameter");if(E.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(E.writableType!==void 0)throw new RangeError("Invalid writableType specified");let A=dr(_,0),I=on(_),F=dr(p,1),X=on(p),V,J=y(rt=>{V=rt});Rh(this,J,F,X,A,I),Th(this,E),E.start!==void 0?V(E.start(this._transformStreamController)):V(void 0)}get readable(){if(!Qo(this))throw ea("readable");return this._readable}get writable(){if(!Qo(this))throw ea("writable");return this._writable}}Object.defineProperties(_n.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(_n.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Rh(n,i,l,f,p,_){function E(){return i}function A(J){return Ch(n,J)}function I(J){return Ph(n,J)}function F(){return Oh(n)}n._writable=xf(E,A,F,I,l,f);function X(){return Ih(n)}function V(J){return Rn(n,J),m(void 0)}n._readable=Ds(E,X,V,p,_),n._backpressure=void 0,n._backpressureChangePromise=void 0,n._backpressureChangePromise_resolve=void 0,vn(n,!0),n._transformStreamController=void 0}function Qo(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_transformStreamController")?!1:n instanceof _n}function En(n,i){Je(n._readable._readableStreamController,i),Rn(n,i)}function Rn(n,i){Zo(n._transformStreamController),Cs(n._writable._writableStreamController,i),n._backpressure&&vn(n,!1)}function vn(n,i){n._backpressureChangePromise!==void 0&&n._backpressureChangePromise_resolve(),n._backpressureChangePromise=y(l=>{n._backpressureChangePromise_resolve=l}),n._backpressure=i}class wr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Tn(this))throw An("desiredSize");let i=this._controlledTransformStream._readable._readableStreamController;return qs(i)}enqueue(i=void 0){if(!Tn(this))throw An("enqueue");Jo(this,i)}error(i=void 0){if(!Tn(this))throw An("error");Ah(this,i)}terminate(){if(!Tn(this))throw An("terminate");$h(this)}}Object.defineProperties(wr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Tn(n){return!a(n)||!Object.prototype.hasOwnProperty.call(n,"_controlledTransformStream")?!1:n instanceof wr}function vh(n,i,l,f){i._controlledTransformStream=n,n._transformStreamController=i,i._transformAlgorithm=l,i._flushAlgorithm=f}function Th(n,i){let l=Object.create(wr.prototype),f=_=>{try{return Jo(l,_),m(void 0)}catch(E){return b(E)}},p=()=>m(void 0);i.transform!==void 0&&(f=_=>i.transform(_,l)),i.flush!==void 0&&(p=()=>i.flush(l)),vh(n,l,f,p)}function Zo(n){n._transformAlgorithm=void 0,n._flushAlgorithm=void 0}function Jo(n,i){let l=n._controlledTransformStream,f=l._readable._readableStreamController;if(!Nt(f))throw new TypeError("Readable side is not in a state that permits enqueue");try{bn(f,i)}catch(_){throw Rn(l,_),l._readable._storedError}sh(f)!==l._backpressure&&vn(l,!0)}function Ah(n,i){En(n._controlledTransformStream,i)}function Ko(n,i){let l=n._transformAlgorithm(i);return O(l,void 0,f=>{throw En(n._controlledTransformStream,f),f})}function $h(n){let i=n._controlledTransformStream,l=i._readable._readableStreamController;yr(l);let f=new TypeError("TransformStream terminated");Rn(i,f)}function Ch(n,i){let l=n._transformStreamController;if(n._backpressure){let f=n._backpressureChangePromise;return O(f,()=>{let p=n._writable;if(p._state==="erroring")throw p._storedError;return Ko(l,i)})}return Ko(l,i)}function Ph(n,i){return En(n,i),m(void 0)}function Oh(n){let i=n._readable,l=n._transformStreamController,f=l._flushAlgorithm();return Zo(l),O(f,()=>{if(i._state==="errored")throw i._storedError;yr(i._readableStreamController)},p=>{throw En(n,p),i._storedError})}function Ih(n){return vn(n,!1),n._backpressureChangePromise}function An(n){return new TypeError(`TransformStreamDefaultController.prototype.${n} can only be used on a TransformStreamDefaultController`)}function ea(n){return new TypeError(`TransformStream.prototype.${n} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=Sn,r.CountQueuingStrategy=wn,r.ReadableByteStreamController=xt,r.ReadableStream=Ke,r.ReadableStreamBYOBReader=hr,r.ReadableStreamBYOBRequest=ur,r.ReadableStreamDefaultController=Bt,r.ReadableStreamDefaultReader=or,r.TransformStream=_n,r.TransformStreamDefaultController=wr,r.WritableStream=pr,r.WritableStreamDefaultController=Dt,r.WritableStreamDefaultWriter=mr,Object.defineProperty(r,"__esModule",{value:!0})})});var ba=$(()=>{if(!globalThis.ReadableStream)try{let r=Se("process"),{emitWarning:e}=r;try{r.emitWarning=()=>{},Object.assign(globalThis,Se("stream/web")),r.emitWarning=e}catch(t){throw r.emitWarning=e,t}}catch{Object.assign(globalThis,ga())}try{let{Blob:r}=Se("buffer");r&&!r.prototype.stream&&(r.prototype.stream=function(t){let s=0,o=this;return new ReadableStream({type:"bytes",async pull(a){let h=await o.slice(s,Math.min(o.size,s+65536)).arrayBuffer();s+=h.byteLength,a.enqueue(new Uint8Array(h)),s===o.size&&a.close()}})})}catch{}});async function*Ys(r,e=!0){for(let t of r)if("stream"in t)yield*t.stream();else if(ArrayBuffer.isView(t))if(e){let s=t.byteOffset,o=t.byteOffset+t.byteLength;for(;s!==o;){let a=Math.min(o-s,ya),u=t.buffer.slice(s,s+a);s+=u.byteLength,yield new Uint8Array(u)}}else yield t;else{let s=0,o=t;for(;s!==o.size;){let u=await o.slice(s,Math.min(o.size,s+ya)).arrayBuffer();s+=u.byteLength,yield new Uint8Array(u)}}}var Mb,ya,Me,Tr,zt,Pn,Ft,Sa,Xh,He,Ar=Er(()=>{Mb=Ie(ba(),1);ya=65536;Sa=(Ft=class{constructor(e=[],t={}){ie(this,Me,[]);ie(this,Tr,"");ie(this,zt,0);ie(this,Pn,"transparent");if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof t!="object"&&typeof t!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");t===null&&(t={});let s=new TextEncoder;for(let a of e){let u;ArrayBuffer.isView(a)?u=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?u=new Uint8Array(a.slice(0)):a instanceof Ft?u=a:u=s.encode(`${a}`),ce(this,zt,z(this,zt)+(ArrayBuffer.isView(u)?u.byteLength:u.size)),z(this,Me).push(u)}ce(this,Pn,`${t.endings===void 0?"transparent":t.endings}`);let o=t.type===void 0?"":String(t.type);ce(this,Tr,/^[\x20-\x7E]*$/.test(o)?o:"")}get size(){return z(this,zt)}get type(){return z(this,Tr)}async text(){let e=new TextDecoder,t="";for await(let s of Ys(z(this,Me),!1))t+=e.decode(s,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let s of Ys(z(this,Me),!1))e.set(s,t),t+=s.length;return e.buffer}stream(){let e=Ys(z(this,Me),!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let s=await e.next();s.done?t.close():t.enqueue(s.value)},async cancel(){await e.return()}})}slice(e=0,t=this.size,s=""){let{size:o}=this,a=e<0?Math.max(o+e,0):Math.min(e,o),u=t<0?Math.max(o+t,0):Math.min(t,o),h=Math.max(u-a,0),c=z(this,Me),d=[],g=0;for(let m of c){if(g>=h)break;let b=ArrayBuffer.isView(m)?m.byteLength:m.size;if(a&&b<=a)a-=b,u-=b;else{let S;ArrayBuffer.isView(m)?(S=m.subarray(a,Math.min(b,u)),g+=S.byteLength):(S=m.slice(a,Math.min(b,u)),g+=S.size),u-=b,d.push(S),a=0}}let y=new Ft([],{type:String(s).toLowerCase()});return ce(y,zt,h),ce(y,Me,d),y}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}},Me=new WeakMap,Tr=new WeakMap,zt=new WeakMap,Pn=new WeakMap,Ft);Object.defineProperties(Sa.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Xh=Sa,He=Xh});var $r,Cr,wa,Qh,Zh,Wt,Xs=Er(()=>{Ar();Qh=(wa=class extends He{constructor(t,s,o={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,o);ie(this,$r,0);ie(this,Cr,"");o===null&&(o={});let a=o.lastModified===void 0?Date.now():Number(o.lastModified);Number.isNaN(a)||ce(this,$r,a),ce(this,Cr,String(s))}get name(){return z(this,Cr)}get lastModified(){return z(this,$r)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof He&&/^(File)$/.test(t[Symbol.toStringTag])}},$r=new WeakMap,Cr=new WeakMap,wa),Zh=Qh,Wt=Zh});function va(r,e=He){var t=`${_a()}${_a()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],o=`--${t}\r
Content-Disposition: form-data; name="`;return r.forEach((a,u)=>typeof a=="string"?s.push(o+Qs(u)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(o+Qs(u)+`"; filename="${Qs(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),s.push(`--${t}--`),new e(s,{type:"multipart/form-data; boundary="+t})}var Pr,Jh,Kh,_a,ed,Ea,Qs,bt,Ee,Ra,yt,On=Er(()=>{Ar();Xs();({toStringTag:Pr,iterator:Jh,hasInstance:Kh}=Symbol),_a=Math.random,ed="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Ea=(r,e,t)=>(r+="",/^(Blob|File)$/.test(e&&e[Pr])?[(t=t!==void 0?t+"":e[Pr]=="File"?e.name:"blob",r),e.name!==t||e[Pr]=="blob"?new Wt([e],t,e):e]:[r,e+""]),Qs=(r,e)=>(e?r:r.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),bt=(r,e,t)=>{if(e.length<t)throw new TypeError(`Failed to execute '${r}' on 'FormData': ${t} arguments required, but only ${e.length} present.`)},yt=(Ra=class{constructor(...e){ie(this,Ee,[]);if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Pr](){return"FormData"}[Jh](){return this.entries()}static[Kh](e){return e&&typeof e=="object"&&e[Pr]==="FormData"&&!ed.some(t=>typeof e[t]!="function")}append(...e){bt("append",arguments,2),z(this,Ee).push(Ea(...e))}delete(e){bt("delete",arguments,1),e+="",ce(this,Ee,z(this,Ee).filter(([t])=>t!==e))}get(e){bt("get",arguments,1),e+="";for(var t=z(this,Ee),s=t.length,o=0;o<s;o++)if(t[o][0]===e)return t[o][1];return null}getAll(e,t){return bt("getAll",arguments,1),t=[],e+="",z(this,Ee).forEach(s=>s[0]===e&&t.push(s[1])),t}has(e){return bt("has",arguments,1),e+="",z(this,Ee).some(t=>t[0]===e)}forEach(e,t){bt("forEach",arguments,1);for(var[s,o]of this)e.call(t,o,s,this)}set(...e){bt("set",arguments,2);var t=[],s=!0;e=Ea(...e),z(this,Ee).forEach(o=>{o[0]===e[0]?s&&(s=!t.push(e)):t.push(o)}),s&&t.push(e),ce(this,Ee,t)}*entries(){yield*z(this,Ee)}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}},Ee=new WeakMap,Ra)});var Pa=$((oy,Ca)=>{if(!globalThis.DOMException)try{let{MessageChannel:r}=Se("worker_threads"),e=new r().port1,t=new ArrayBuffer;e.postMessage(t,[t,t])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}Ca.exports=globalThis.DOMException});import{statSync as ly,createReadStream as td,promises as rd}from"fs";var Ia,nd,St,wt,Js,Oa,Ks=Er(()=>{Ia=Ie(Pa(),1);Xs();Ar();({stat:nd}=rd),Js=class{constructor(e){ie(this,St,void 0);ie(this,wt,void 0);ce(this,St,e.path),ce(this,wt,e.start),this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new Js({path:z(this,St),lastModified:this.lastModified,size:t-e,start:z(this,wt)+e})}async*stream(){let{mtimeMs:e}=await nd(z(this,St));if(e>this.lastModified)throw new Ia.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*td(z(this,St),{start:z(this,wt),end:z(this,wt)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}},Oa=Js;St=new WeakMap,wt=new WeakMap});var La={};Nh(La,{toFormData:()=>cd});function ud(r){let e=r.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let t=e[2]||e[3]||"",s=t.slice(t.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(o,a)=>String.fromCharCode(a)),s}async function cd(r,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let t=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!t)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new ei(t[1]||t[2]),o,a,u,h,c,d,g=[],y=new yt,m=R=>{u+=w.decode(R,{stream:!0})},b=R=>{g.push(R)},S=()=>{let R=new Wt(g,d,{type:c});y.append(h,R)},v=()=>{y.append(h,u)},w=new TextDecoder("utf-8");w.decode(),s.onPartBegin=function(){s.onPartData=m,s.onPartEnd=v,o="",a="",u="",h="",c="",d=null,g.length=0},s.onHeaderField=function(R){o+=w.decode(R,{stream:!0})},s.onHeaderValue=function(R){a+=w.decode(R,{stream:!0})},s.onHeaderEnd=function(){if(a+=w.decode(),o=o.toLowerCase(),o==="content-disposition"){let R=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);R&&(h=R[2]||R[3]||""),d=ud(a),d&&(s.onPartData=b,s.onPartEnd=S)}else o==="content-type"&&(c=a);a="",o=""};for await(let R of r)s.write(R);return s.end(),y}var Be,G,xa,it,xn,Ln,sd,Ir,id,od,ad,ld,_t,ei,qa=Er(()=>{Ks();On();Be=0,G={START_BOUNDARY:Be++,HEADER_FIELD_START:Be++,HEADER_FIELD:Be++,HEADER_VALUE_START:Be++,HEADER_VALUE:Be++,HEADER_VALUE_ALMOST_DONE:Be++,HEADERS_ALMOST_DONE:Be++,PART_DATA_START:Be++,PART_DATA:Be++,END:Be++},xa=1,it={PART_BOUNDARY:xa,LAST_BOUNDARY:xa*=2},xn=10,Ln=13,sd=32,Ir=45,id=58,od=97,ad=122,ld=r=>r|32,_t=()=>{},ei=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=_t,this.onHeaderField=_t,this.onHeadersEnd=_t,this.onHeaderValue=_t,this.onPartBegin=_t,this.onPartData=_t,this.onPartEnd=_t,this.boundaryChars={},e=`\r
--`+e;let t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s),this.boundaryChars[t[s]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=G.START_BOUNDARY}write(e){let t=0,s=e.length,o=this.index,{lookbehind:a,boundary:u,boundaryChars:h,index:c,state:d,flags:g}=this,y=this.boundary.length,m=y-1,b=e.length,S,v,w=T=>{this[T+"Mark"]=t},R=T=>{delete this[T+"Mark"]},O=(T,B,q,x)=>{(B===void 0||B!==q)&&this[T](x&&x.subarray(B,q))},D=(T,B)=>{let q=T+"Mark";q in this&&(B?(O(T,this[q],t,e),delete this[q]):(O(T,this[q],e.length,e),this[q]=0))};for(t=0;t<s;t++)switch(S=e[t],d){case G.START_BOUNDARY:if(c===u.length-2){if(S===Ir)g|=it.LAST_BOUNDARY;else if(S!==Ln)return;c++;break}else if(c-1===u.length-2){if(g&it.LAST_BOUNDARY&&S===Ir)d=G.END,g=0;else if(!(g&it.LAST_BOUNDARY)&&S===xn)c=0,O("onPartBegin"),d=G.HEADER_FIELD_START;else return;break}S!==u[c+2]&&(c=-2),S===u[c+2]&&c++;break;case G.HEADER_FIELD_START:d=G.HEADER_FIELD,w("onHeaderField"),c=0;case G.HEADER_FIELD:if(S===Ln){R("onHeaderField"),d=G.HEADERS_ALMOST_DONE;break}if(c++,S===Ir)break;if(S===id){if(c===1)return;D("onHeaderField",!0),d=G.HEADER_VALUE_START;break}if(v=ld(S),v<od||v>ad)return;break;case G.HEADER_VALUE_START:if(S===sd)break;w("onHeaderValue"),d=G.HEADER_VALUE;case G.HEADER_VALUE:S===Ln&&(D("onHeaderValue",!0),O("onHeaderEnd"),d=G.HEADER_VALUE_ALMOST_DONE);break;case G.HEADER_VALUE_ALMOST_DONE:if(S!==xn)return;d=G.HEADER_FIELD_START;break;case G.HEADERS_ALMOST_DONE:if(S!==xn)return;O("onHeadersEnd"),d=G.PART_DATA_START;break;case G.PART_DATA_START:d=G.PART_DATA,w("onPartData");case G.PART_DATA:if(o=c,c===0){for(t+=m;t<b&&!(e[t]in h);)t+=y;t-=m,S=e[t]}if(c<u.length)u[c]===S?(c===0&&D("onPartData",!0),c++):c=0;else if(c===u.length)c++,S===Ln?g|=it.PART_BOUNDARY:S===Ir?g|=it.LAST_BOUNDARY:c=0;else if(c-1===u.length)if(g&it.PART_BOUNDARY){if(c=0,S===xn){g&=~it.PART_BOUNDARY,O("onPartEnd"),O("onPartBegin"),d=G.HEADER_FIELD_START;break}}else g&it.LAST_BOUNDARY&&S===Ir?(O("onPartEnd"),d=G.END,g=0):c=0;if(c>0)a[c-1]=S;else if(o>0){let T=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);O("onPartData",0,o,T),o=0,w("onPartData"),t--}break;case G.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}D("onHeaderField"),D("onHeaderValue"),D("onPartData"),this.index=c,this.state=d,this.flags=g}end(){if(this.state===G.HEADER_FIELD_START&&this.index===0||this.state===G.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==G.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Ja=$((dS,Za)=>{function vd(r){return Buffer.from(r,"base64").toString("utf8")}function Td(r){return Buffer.from(r,"utf8").toString("base64")}Za.exports={decodeBase64:vd,encodeBase64:Td}});var rl=$(Et=>{Et.parse=Et.decode=Ad;Et.stringify=Et.encode=Ka;Et.safe=Gt;Et.unsafe=Wn;var si=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function Ka(r,e){var t=[],s="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||{},e.whitespace=e.whitespace===!0);var o=e.whitespace?" = ":"=";return Object.keys(r).forEach(function(a,u,h){var c=r[a];c&&Array.isArray(c)?c.forEach(function(d){s+=Gt(a+"[]")+o+Gt(d)+`
`}):c&&typeof c=="object"?t.push(a):s+=Gt(a)+o+Gt(c)+si}),e.section&&s.length&&(s="["+Gt(e.section)+"]"+si+s),t.forEach(function(a,u,h){var c=el(a).join("\\."),d=(e.section?e.section+".":"")+c,g=Ka(r[a],{section:d,whitespace:e.whitespace});s.length&&g.length&&(s+=si),s+=g}),s}function el(r){return r.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function Ad(r){var e={},t=e,s=null,o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,a=r.split(/[\r\n]+/g);return a.forEach(function(u,h,c){if(!(!u||u.match(/^\s*[;#]/))){var d=u.match(o);if(d){if(d[1]!==void 0){if(s=Wn(d[1]),s==="__proto__"){t={};return}t=e[s]=e[s]||{};return}var g=Wn(d[2]);if(g!=="__proto__"){var y=d[3]?Wn(d[4]):!0;switch(y){case"true":case"false":case"null":y=JSON.parse(y)}if(g.length>2&&g.slice(-2)==="[]"){if(g=g.substring(0,g.length-2),g==="__proto__")return;t[g]?Array.isArray(t[g])||(t[g]=[t[g]]):t[g]=[]}Array.isArray(t[g])?t[g].push(y):t[g]=y}}}}),Object.keys(e).filter(function(u,h,c){if(!e[u]||typeof e[u]!="object"||Array.isArray(e[u]))return!1;var d=el(u),g=e,y=d.pop(),m=y.replace(/\\\./g,".");return d.forEach(function(b,S,v){b!=="__proto__"&&((!g[b]||typeof g[b]!="object")&&(g[b]={}),g=g[b])}),g===e&&m===y?!1:(g[m]=e[u],!0)}).forEach(function(u,h,c){delete e[u]}),e}function tl(r){return r.charAt(0)==='"'&&r.slice(-1)==='"'||r.charAt(0)==="'"&&r.slice(-1)==="'"}function Gt(r){return typeof r!="string"||r.match(/[=\r\n]/)||r.match(/^\[/)||r.length>1&&tl(r)||r!==r.trim()?JSON.stringify(r):r.replace(/;/g,"\\;").replace(/#/g,"\\#")}function Wn(r,e){if(r=(r||"").trim(),tl(r)){r.charAt(0)==="'"&&(r=r.substr(1,r.length-2));try{r=JSON.parse(r)}catch{}}else{for(var t=!1,s="",o=0,a=r.length;o<a;o++){var u=r.charAt(o);if(t)"\\;#".indexOf(u)!==-1?s+=u:s+="\\"+u,t=!1;else{if(";#".indexOf(u)!==-1)break;u==="\\"?t=!0:s+=u}}return t&&(s+="\\"),s.trim()}return r}});var il=$((mS,sl)=>{"use strict";var ii=1,nl=2;function $d(){return""}function Cd(r,e,t){return r.slice(e,t).replace(/\S/g," ")}sl.exports=function(r,e){e=e||{};for(var t,s,o=!1,a=!1,u=0,h="",c=e.whitespace===!1?$d:Cd,d=0;d<r.length;d++){if(t=r[d],s=r[d+1],!a&&t==='"'){var g=r[d-1]==="\\"&&r[d-2]!=="\\";g||(o=!o)}if(!o){if(!a&&t+s==="//")h+=r.slice(u,d),u=d,a=ii,d++;else if(a===ii&&t+s===`\r
`){d++,a=!1,h+=c(r,u,d),u=d;continue}else if(a===ii&&t===`
`)a=!1,h+=c(r,u,d),u=d;else if(!a&&t+s==="/*"){h+=r.slice(u,d),u=d,a=nl,d++;continue}else if(a===nl&&t+s==="*/"){d++,a=!1,h+=c(r,u,d+1),u=d+1;continue}}}return h+(a?c(r.substr(u)):r.substr(u))}});var al=$(Vt=>{"use strict";var ol=Se("fs"),Pd=rl(),Lr=Se("path"),Od=il(),Id=Vt.parse=function(r){return/^\s*{/.test(r)?JSON.parse(Od(r)):Pd.parse(r)},xd=Vt.file=function(){var r=[].slice.call(arguments).filter(function(o){return o!=null});for(var e in r)if(typeof r[e]!="string")return;var t=Lr.join.apply(null,r),s;try{return ol.readFileSync(t,"utf-8")}catch{return}},gS=Vt.json=function(){var r=xd.apply(null,arguments);return r?Id(r):null},bS=Vt.env=function(r,e){e=e||process.env;var t={},s=r.length;for(var o in e)if(o.toLowerCase().indexOf(r.toLowerCase())===0){for(var a=o.substring(s).split("__"),u;(u=a.indexOf(""))>-1;)a.splice(u,1);var h=t;a.forEach(function(d,g){!d||typeof h!="object"||(g===a.length-1&&(h[d]=e[o]),h[d]===void 0&&(h[d]={}),h=h[d])})}return t},yS=Vt.find=function(){var r=Lr.join.apply(null,[].slice.call(arguments));function e(t,s){var o=Lr.join(t,s);try{return ol.statSync(o),o}catch{if(Lr.dirname(t)!==t)return e(Lr.dirname(t),s)}}return e(process.cwd(),r)}});var dl=$((wS,hl)=>{"use strict";function ul(r){return r instanceof Buffer||r instanceof Date||r instanceof RegExp}function cl(r){if(r instanceof Buffer){var e=Buffer.alloc?Buffer.alloc(r.length):new Buffer(r.length);return r.copy(e),e}else{if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp)return new RegExp(r);throw new Error("Unexpected situation")}}function fl(r){var e=[];return r.forEach(function(t,s){typeof t=="object"&&t!==null?Array.isArray(t)?e[s]=fl(t):ul(t)?e[s]=cl(t):e[s]=oi({},t):e[s]=t}),e}function ll(r,e){return e==="__proto__"?void 0:r[e]}var oi=hl.exports=function(){if(arguments.length<1||typeof arguments[0]!="object")return!1;if(arguments.length<2)return arguments[0];var r=arguments[0],e=Array.prototype.slice.call(arguments,1),t,s,o;return e.forEach(function(a){typeof a!="object"||a===null||Array.isArray(a)||Object.keys(a).forEach(function(u){if(s=ll(r,u),t=ll(a,u),t!==r)if(typeof t!="object"||t===null){r[u]=t;return}else if(Array.isArray(t)){r[u]=fl(t);return}else if(ul(t)){r[u]=cl(t);return}else if(typeof s!="object"||s===null||Array.isArray(s)){r[u]=oi({},t);return}else{r[u]=oi(s,t);return}})}),r}});var jn=$((_S,gl)=>{var qr=al(),Yt=Se("path").join,Ld=dl(),pl="/etc",ml=process.platform==="win32",Dr=ml?process.env.USERPROFILE:process.env.HOME;gl.exports=function(r,e,t,s){if(typeof r!="string")throw new Error("rc(name): name *must* be string");t||(t=Vs()(process.argv.slice(2))),e=(typeof e=="string"?qr.json(e):e)||{},s=s||qr.parse;var o=qr.env(r+"_"),a=[e],u=[];function h(c){if(!(u.indexOf(c)>=0)){var d=qr.file(c);d&&(a.push(s(d)),u.push(c))}}return ml||[Yt(pl,r,"config"),Yt(pl,r+"rc")].forEach(h),Dr&&[Yt(Dr,".config",r,"config"),Yt(Dr,".config",r),Yt(Dr,"."+r,"config"),Yt(Dr,"."+r+"rc")].forEach(h),h(qr.find("."+r+"rc")),o.config&&h(o.config),t.config&&h(t.config),Ld.apply(null,a.concat([o,t,u.length?{configs:u,config:u[u.length-1]}:void 0]))}});var vl=$((ES,Rl)=>{var ai=Se("url"),_l=Ja(),qd=_l.decodeBase64,Dd=_l.encodeBase64,bl=":_authToken",yl=":_auth",Sl=":username",wl=":_password";Rl.exports=function(){var r,e;return arguments.length>=2?(r=arguments[0],e=arguments[1]):typeof arguments[0]=="string"?r=arguments[0]:e=arguments[0],e=e||{},e.npmrc=e.npmrc||jn()("npm",{registry:"https://registry.npmjs.org/"},{config:process.env.npm_config_userconfig||process.env.NPM_CONFIG_USERCONFIG}),r=r||e.npmrc.registry,El(r,e)||Bd(e.npmrc)};function El(r,e){for(var t=ai.parse(r,!1,!0),s;s!=="/"&&t.pathname!==s;){s=t.pathname||"/";var o="//"+t.host+s.replace(/\/$/,""),a=kd(o,e.npmrc);if(a)return a;if(!e.recursive)return/\/$/.test(r)?void 0:El(ai.resolve(r,"."),e);t.pathname=ai.resolve(Nd(s),"..")||"/"}}function Bd(r){if(r._auth){var e=Un(r._auth);return{token:e,type:"Basic"}}}function Nd(r){return r[r.length-1]==="/"?r:r+"/"}function kd(r,e){var t=zd(e[r+bl]||e[r+"/"+bl]);if(t)return t;var s=e[r+Sl]||e[r+"/"+Sl],o=e[r+wl]||e[r+"/"+wl],a=Fd(s,o);if(a)return a;var u=Wd(e[r+yl]||e[r+"/"+yl]);if(u)return u}function Un(r){return r.replace(/^\$\{?([^}]*)\}?$/,function(e,t){return process.env[t]})}function zd(r){if(r){var e=Un(r);return{token:e,type:"Bearer"}}}function Fd(r,e){if(!(!r||!e)){var t=qd(Un(e)),s=Dd(r+":"+t);return{token:s,type:"Basic",password:t,username:r}}}function Wd(r){if(r){var e=Un(r);return{token:e,type:"Basic"}}}});var Al=$((RS,Tl)=>{Tl.exports=function(r,e){var t=e||jn()("npm",{registry:"https://registry.npmjs.org/"}),s=t[r+":registry"]||t.registry;return s.slice(-1)==="/"?s:s+"/"}});var Br=$((vS,$l)=>{var jd="2.0.0",Ud=Number.MAX_SAFE_INTEGER||9007199254740991,Md=16;$l.exports={SEMVER_SPEC_VERSION:jd,MAX_LENGTH:256,MAX_SAFE_INTEGER:Ud,MAX_SAFE_COMPONENT_LENGTH:Md}});var Nr=$((TS,Cl)=>{var Hd=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Cl.exports=Hd});var Rt=$((at,Pl)=>{var{MAX_SAFE_COMPONENT_LENGTH:li}=Br(),Gd=Nr();at=Pl.exports={};var Vd=at.re=[],C=at.src=[],P=at.t={},Yd=0,N=(r,e,t)=>{let s=Yd++;Gd(r,s,e),P[r]=s,C[s]=e,Vd[s]=new RegExp(e,t?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*");N("NUMERICIDENTIFIERLOOSE","[0-9]+");N("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");N("MAINVERSION",`(${C[P.NUMERICIDENTIFIER]})\\.(${C[P.NUMERICIDENTIFIER]})\\.(${C[P.NUMERICIDENTIFIER]})`);N("MAINVERSIONLOOSE",`(${C[P.NUMERICIDENTIFIERLOOSE]})\\.(${C[P.NUMERICIDENTIFIERLOOSE]})\\.(${C[P.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASEIDENTIFIER",`(?:${C[P.NUMERICIDENTIFIER]}|${C[P.NONNUMERICIDENTIFIER]})`);N("PRERELEASEIDENTIFIERLOOSE",`(?:${C[P.NUMERICIDENTIFIERLOOSE]}|${C[P.NONNUMERICIDENTIFIER]})`);N("PRERELEASE",`(?:-(${C[P.PRERELEASEIDENTIFIER]}(?:\\.${C[P.PRERELEASEIDENTIFIER]})*))`);N("PRERELEASELOOSE",`(?:-?(${C[P.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${C[P.PRERELEASEIDENTIFIERLOOSE]})*))`);N("BUILDIDENTIFIER","[0-9A-Za-z-]+");N("BUILD",`(?:\\+(${C[P.BUILDIDENTIFIER]}(?:\\.${C[P.BUILDIDENTIFIER]})*))`);N("FULLPLAIN",`v?${C[P.MAINVERSION]}${C[P.PRERELEASE]}?${C[P.BUILD]}?`);N("FULL",`^${C[P.FULLPLAIN]}$`);N("LOOSEPLAIN",`[v=\\s]*${C[P.MAINVERSIONLOOSE]}${C[P.PRERELEASELOOSE]}?${C[P.BUILD]}?`);N("LOOSE",`^${C[P.LOOSEPLAIN]}$`);N("GTLT","((?:<|>)?=?)");N("XRANGEIDENTIFIERLOOSE",`${C[P.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);N("XRANGEIDENTIFIER",`${C[P.NUMERICIDENTIFIER]}|x|X|\\*`);N("XRANGEPLAIN",`[v=\\s]*(${C[P.XRANGEIDENTIFIER]})(?:\\.(${C[P.XRANGEIDENTIFIER]})(?:\\.(${C[P.XRANGEIDENTIFIER]})(?:${C[P.PRERELEASE]})?${C[P.BUILD]}?)?)?`);N("XRANGEPLAINLOOSE",`[v=\\s]*(${C[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${C[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${C[P.XRANGEIDENTIFIERLOOSE]})(?:${C[P.PRERELEASELOOSE]})?${C[P.BUILD]}?)?)?`);N("XRANGE",`^${C[P.GTLT]}\\s*${C[P.XRANGEPLAIN]}$`);N("XRANGELOOSE",`^${C[P.GTLT]}\\s*${C[P.XRANGEPLAINLOOSE]}$`);N("COERCE",`(^|[^\\d])(\\d{1,${li}})(?:\\.(\\d{1,${li}}))?(?:\\.(\\d{1,${li}}))?(?:$|[^\\d])`);N("COERCERTL",C[P.COERCE],!0);N("LONETILDE","(?:~>?)");N("TILDETRIM",`(\\s*)${C[P.LONETILDE]}\\s+`,!0);at.tildeTrimReplace="$1~";N("TILDE",`^${C[P.LONETILDE]}${C[P.XRANGEPLAIN]}$`);N("TILDELOOSE",`^${C[P.LONETILDE]}${C[P.XRANGEPLAINLOOSE]}$`);N("LONECARET","(?:\\^)");N("CARETTRIM",`(\\s*)${C[P.LONECARET]}\\s+`,!0);at.caretTrimReplace="$1^";N("CARET",`^${C[P.LONECARET]}${C[P.XRANGEPLAIN]}$`);N("CARETLOOSE",`^${C[P.LONECARET]}${C[P.XRANGEPLAINLOOSE]}$`);N("COMPARATORLOOSE",`^${C[P.GTLT]}\\s*(${C[P.LOOSEPLAIN]})$|^$`);N("COMPARATOR",`^${C[P.GTLT]}\\s*(${C[P.FULLPLAIN]})$|^$`);N("COMPARATORTRIM",`(\\s*)${C[P.GTLT]}\\s*(${C[P.LOOSEPLAIN]}|${C[P.XRANGEPLAIN]})`,!0);at.comparatorTrimReplace="$1$2$3";N("HYPHENRANGE",`^\\s*(${C[P.XRANGEPLAIN]})\\s+-\\s+(${C[P.XRANGEPLAIN]})\\s*$`);N("HYPHENRANGELOOSE",`^\\s*(${C[P.XRANGEPLAINLOOSE]})\\s+-\\s+(${C[P.XRANGEPLAINLOOSE]})\\s*$`);N("STAR","(<|>)?=?\\s*\\*");N("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");N("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var kr=$((AS,Ol)=>{var Xd=["includePrerelease","loose","rtl"],Qd=r=>r?typeof r!="object"?{loose:!0}:Xd.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};Ol.exports=Qd});var ui=$(($S,Ll)=>{var Il=/^[0-9]+$/,xl=(r,e)=>{let t=Il.test(r),s=Il.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},Zd=(r,e)=>xl(e,r);Ll.exports={compareIdentifiers:xl,rcompareIdentifiers:Zd}});var ue=$((CS,Nl)=>{var Mn=Nr(),{MAX_LENGTH:ql,MAX_SAFE_INTEGER:Hn}=Br(),{re:Dl,t:Bl}=Rt(),Jd=kr(),{compareIdentifiers:Xt}=ui(),we=class{constructor(e,t){if(t=Jd(t),e instanceof we){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>ql)throw new TypeError(`version is longer than ${ql} characters`);Mn("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let s=e.trim().match(t.loose?Dl[Bl.LOOSE]:Dl[Bl.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Hn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Hn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Hn||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<Hn)return a}return o}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Mn("SemVer.compare",this.version,this.options,e),!(e instanceof we)){if(typeof e=="string"&&e===this.version)return 0;e=new we(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof we||(e=new we(e,this.options)),Xt(this.major,e.major)||Xt(this.minor,e.minor)||Xt(this.patch,e.patch)}comparePre(e){if(e instanceof we||(e=new we(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let s=this.prerelease[t],o=e.prerelease[t];if(Mn("prerelease compare",t,s,o),s===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(s===void 0)return-1;if(s===o)continue;return Xt(s,o)}while(++t)}compareBuild(e){e instanceof we||(e=new we(e,this.options));let t=0;do{let s=this.build[t],o=e.build[t];if(Mn("prerelease compare",t,s,o),s===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(s===void 0)return-1;if(s===o)continue;return Xt(s,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}t&&(Xt(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Nl.exports=we});var vt=$((PS,Wl)=>{var{MAX_LENGTH:Kd}=Br(),{re:kl,t:zl}=Rt(),Fl=ue(),ep=kr(),tp=(r,e)=>{if(e=ep(e),r instanceof Fl)return r;if(typeof r!="string"||r.length>Kd||!(e.loose?kl[zl.LOOSE]:kl[zl.FULL]).test(r))return null;try{return new Fl(r,e)}catch{return null}};Wl.exports=tp});var Ul=$((OS,jl)=>{var rp=vt(),np=(r,e)=>{let t=rp(r,e);return t?t.version:null};jl.exports=np});var Hl=$((IS,Ml)=>{var sp=vt(),ip=(r,e)=>{let t=sp(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Ml.exports=ip});var Yl=$((xS,Vl)=>{var Gl=ue(),op=(r,e,t,s)=>{typeof t=="string"&&(s=t,t=void 0);try{return new Gl(r instanceof Gl?r.version:r,t).inc(e,s).version}catch{return null}};Vl.exports=op});var ve=$((LS,Ql)=>{var Xl=ue(),ap=(r,e,t)=>new Xl(r,t).compare(new Xl(e,t));Ql.exports=ap});var Gn=$((qS,Zl)=>{var lp=ve(),up=(r,e,t)=>lp(r,e,t)===0;Zl.exports=up});var eu=$((DS,Kl)=>{var Jl=vt(),cp=Gn(),fp=(r,e)=>{if(cp(r,e))return null;{let t=Jl(r),s=Jl(e),o=t.prerelease.length||s.prerelease.length,a=o?"pre":"",u=o?"prerelease":"";for(let h in t)if((h==="major"||h==="minor"||h==="patch")&&t[h]!==s[h])return a+h;return u}};Kl.exports=fp});var ru=$((BS,tu)=>{var hp=ue(),dp=(r,e)=>new hp(r,e).major;tu.exports=dp});var su=$((NS,nu)=>{var pp=ue(),mp=(r,e)=>new pp(r,e).minor;nu.exports=mp});var ou=$((kS,iu)=>{var gp=ue(),bp=(r,e)=>new gp(r,e).patch;iu.exports=bp});var lu=$((zS,au)=>{var yp=vt(),Sp=(r,e)=>{let t=yp(r,e);return t&&t.prerelease.length?t.prerelease:null};au.exports=Sp});var cu=$((FS,uu)=>{var wp=ve(),_p=(r,e,t)=>wp(e,r,t);uu.exports=_p});var hu=$((WS,fu)=>{var Ep=ve(),Rp=(r,e)=>Ep(r,e,!0);fu.exports=Rp});var Vn=$((jS,pu)=>{var du=ue(),vp=(r,e,t)=>{let s=new du(r,t),o=new du(e,t);return s.compare(o)||s.compareBuild(o)};pu.exports=vp});var gu=$((US,mu)=>{var Tp=Vn(),Ap=(r,e)=>r.sort((t,s)=>Tp(t,s,e));mu.exports=Ap});var yu=$((MS,bu)=>{var $p=Vn(),Cp=(r,e)=>r.sort((t,s)=>$p(s,t,e));bu.exports=Cp});var zr=$((HS,Su)=>{var Pp=ve(),Op=(r,e,t)=>Pp(r,e,t)>0;Su.exports=Op});var Yn=$((GS,wu)=>{var Ip=ve(),xp=(r,e,t)=>Ip(r,e,t)<0;wu.exports=xp});var ci=$((VS,_u)=>{var Lp=ve(),qp=(r,e,t)=>Lp(r,e,t)!==0;_u.exports=qp});var Xn=$((YS,Eu)=>{var Dp=ve(),Bp=(r,e,t)=>Dp(r,e,t)>=0;Eu.exports=Bp});var Qn=$((XS,Ru)=>{var Np=ve(),kp=(r,e,t)=>Np(r,e,t)<=0;Ru.exports=kp});var fi=$((QS,vu)=>{var zp=Gn(),Fp=ci(),Wp=zr(),jp=Xn(),Up=Yn(),Mp=Qn(),Hp=(r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return zp(r,t,s);case"!=":return Fp(r,t,s);case">":return Wp(r,t,s);case">=":return jp(r,t,s);case"<":return Up(r,t,s);case"<=":return Mp(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};vu.exports=Hp});var Au=$((ZS,Tu)=>{var Gp=ue(),Vp=vt(),{re:Zn,t:Jn}=Rt(),Yp=(r,e)=>{if(r instanceof Gp)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Zn[Jn.COERCE]);else{let s;for(;(s=Zn[Jn.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||s.index+s[0].length!==t.index+t[0].length)&&(t=s),Zn[Jn.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;Zn[Jn.COERCERTL].lastIndex=-1}return t===null?null:Vp(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};Tu.exports=Yp});var Cu=$((JS,$u)=>{"use strict";$u.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ou=$((KS,Pu)=>{"use strict";Pu.exports=W;W.Node=Tt;W.create=W;function W(r){var e=this;if(e instanceof W||(e=new W),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(o){e.push(o)});else if(arguments.length>0)for(var t=0,s=arguments.length;t<s;t++)e.push(arguments[t]);return e}W.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};W.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};W.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};W.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)Qp(this,arguments[r]);return this.length};W.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)Zp(this,arguments[r]);return this.length};W.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};W.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};W.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,s=0;t!==null;s++)r.call(e,t.value,s,this),t=t.next};W.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,s=this.length-1;t!==null;s--)r.call(e,t.value,s,this),t=t.prev};W.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};W.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};W.prototype.map=function(r,e){e=e||this;for(var t=new W,s=this.head;s!==null;)t.push(r.call(e,s.value,this)),s=s.next;return t};W.prototype.mapReverse=function(r,e){e=e||this;for(var t=new W,s=this.tail;s!==null;)t.push(r.call(e,s.value,this)),s=s.prev;return t};W.prototype.reduce=function(r,e){var t,s=this.head;if(arguments.length>1)t=e;else if(this.head)s=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;s!==null;o++)t=r(t,s.value,o),s=s.next;return t};W.prototype.reduceReverse=function(r,e){var t,s=this.tail;if(arguments.length>1)t=e;else if(this.tail)s=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;s!==null;o--)t=r(t,s.value,o),s=s.prev;return t};W.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};W.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};W.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new W;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=0,o=this.head;o!==null&&s<r;s++)o=o.next;for(;o!==null&&s<e;s++,o=o.next)t.push(o.value);return t};W.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new W;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=this.length,o=this.tail;o!==null&&s>e;s--)o=o.prev;for(;o!==null&&s>r;s--,o=o.prev)t.push(o.value);return t};W.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var s=0,o=this.head;o!==null&&s<r;s++)o=o.next;for(var a=[],s=0;o&&s<e;s++)a.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var s=0;s<t.length;s++)o=Xp(this,o,t[s]);return a};W.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var s=t.prev;t.prev=t.next,t.next=s}return this.head=e,this.tail=r,this};function Xp(r,e,t){var s=e===r.head?new Tt(t,null,e,r):new Tt(t,e,e.next,r);return s.next===null&&(r.tail=s),s.prev===null&&(r.head=s),r.length++,s}function Qp(r,e){r.tail=new Tt(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function Zp(r,e){r.head=new Tt(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Tt(r,e,t,s){if(!(this instanceof Tt))return new Tt(r,e,t,s);this.list=s,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Cu()(W)}catch{}});var Du=$((ew,qu)=>{"use strict";var Jp=Ou(),At=Symbol("max"),Xe=Symbol("length"),Qt=Symbol("lengthCalculator"),Wr=Symbol("allowStale"),$t=Symbol("maxAge"),Ye=Symbol("dispose"),Iu=Symbol("noDisposeOnSet"),se=Symbol("lruList"),Le=Symbol("cache"),Lu=Symbol("updateAgeOnGet"),hi=()=>1,pi=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[At]=e.max||1/0,s=e.length||hi;if(this[Qt]=typeof s!="function"?hi:s,this[Wr]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[$t]=e.maxAge||0,this[Ye]=e.dispose,this[Iu]=e.noDisposeOnSet||!1,this[Lu]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[At]=e||1/0,Fr(this)}get max(){return this[At]}set allowStale(e){this[Wr]=!!e}get allowStale(){return this[Wr]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[$t]=e,Fr(this)}get maxAge(){return this[$t]}set lengthCalculator(e){typeof e!="function"&&(e=hi),e!==this[Qt]&&(this[Qt]=e,this[Xe]=0,this[se].forEach(t=>{t.length=this[Qt](t.value,t.key),this[Xe]+=t.length})),Fr(this)}get lengthCalculator(){return this[Qt]}get length(){return this[Xe]}get itemCount(){return this[se].length}rforEach(e,t){t=t||this;for(let s=this[se].tail;s!==null;){let o=s.prev;xu(this,e,s,t),s=o}}forEach(e,t){t=t||this;for(let s=this[se].head;s!==null;){let o=s.next;xu(this,e,s,t),s=o}}keys(){return this[se].toArray().map(e=>e.key)}values(){return this[se].toArray().map(e=>e.value)}reset(){this[Ye]&&this[se]&&this[se].length&&this[se].forEach(e=>this[Ye](e.key,e.value)),this[Le]=new Map,this[se]=new Jp,this[Xe]=0}dump(){return this[se].map(e=>Kn(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[se]}set(e,t,s){if(s=s||this[$t],s&&typeof s!="number")throw new TypeError("maxAge must be a number");let o=s?Date.now():0,a=this[Qt](t,e);if(this[Le].has(e)){if(a>this[At])return Zt(this,this[Le].get(e)),!1;let c=this[Le].get(e).value;return this[Ye]&&(this[Iu]||this[Ye](e,c.value)),c.now=o,c.maxAge=s,c.value=t,this[Xe]+=a-c.length,c.length=a,this.get(e),Fr(this),!0}let u=new mi(e,t,a,o,s);return u.length>this[At]?(this[Ye]&&this[Ye](e,t),!1):(this[Xe]+=u.length,this[se].unshift(u),this[Le].set(e,this[se].head),Fr(this),!0)}has(e){if(!this[Le].has(e))return!1;let t=this[Le].get(e).value;return!Kn(this,t)}get(e){return di(this,e,!0)}peek(e){return di(this,e,!1)}pop(){let e=this[se].tail;return e?(Zt(this,e),e.value):null}del(e){Zt(this,this[Le].get(e))}load(e){this.reset();let t=Date.now();for(let s=e.length-1;s>=0;s--){let o=e[s],a=o.e||0;if(a===0)this.set(o.k,o.v);else{let u=a-t;u>0&&this.set(o.k,o.v,u)}}}prune(){this[Le].forEach((e,t)=>di(this,t,!1))}},di=(r,e,t)=>{let s=r[Le].get(e);if(s){let o=s.value;if(Kn(r,o)){if(Zt(r,s),!r[Wr])return}else t&&(r[Lu]&&(s.value.now=Date.now()),r[se].unshiftNode(s));return o.value}},Kn=(r,e)=>{if(!e||!e.maxAge&&!r[$t])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[$t]&&t>r[$t]},Fr=r=>{if(r[Xe]>r[At])for(let e=r[se].tail;r[Xe]>r[At]&&e!==null;){let t=e.prev;Zt(r,e),e=t}},Zt=(r,e)=>{if(e){let t=e.value;r[Ye]&&r[Ye](t.key,t.value),r[Xe]-=t.length,r[Le].delete(t.key),r[se].removeNode(e)}},mi=class{constructor(e,t,s,o,a){this.key=e,this.value=t,this.length=s,this.now=o,this.maxAge=a||0}},xu=(r,e,t,s)=>{let o=t.value;Kn(r,o)&&(Zt(r,t),r[Wr]||(o=void 0)),o&&e.call(s,o.value,o.key,r)};qu.exports=pi});var Te=$((tw,zu)=>{var Ct=class{constructor(e,t){if(t=em(t),e instanceof Ct)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ct(e.raw,t);if(e instanceof gi)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(o=>!Nu(o[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&im(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let s=`parseRange:${Object.keys(this.options).join(",")}:${e}`,o=Bu.get(s);if(o)return o;let a=this.options.loose,u=a?ye[he.HYPHENRANGELOOSE]:ye[he.HYPHENRANGE];e=e.replace(u,mm(this.options.includePrerelease)),Q("hyphen replace",e),e=e.replace(ye[he.COMPARATORTRIM],rm),Q("comparator trim",e),e=e.replace(ye[he.TILDETRIM],nm),e=e.replace(ye[he.CARETTRIM],sm),e=e.split(/\s+/).join(" ");let h=e.split(" ").map(y=>om(y,this.options)).join(" ").split(/\s+/).map(y=>pm(y,this.options));a&&(h=h.filter(y=>(Q("loose invalid filter",y,this.options),!!y.match(ye[he.COMPARATORLOOSE])))),Q("range list",h);let c=new Map,d=h.map(y=>new gi(y,this.options));for(let y of d){if(Nu(y))return[y];c.set(y.value,y)}c.size>1&&c.has("")&&c.delete("");let g=[...c.values()];return Bu.set(s,g),g}intersects(e,t){if(!(e instanceof Ct))throw new TypeError("a Range is required");return this.set.some(s=>ku(s,t)&&e.set.some(o=>ku(o,t)&&s.every(a=>o.every(u=>a.intersects(u,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new tm(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(gm(this.set[t],e,this.options))return!0;return!1}};zu.exports=Ct;var Kp=Du(),Bu=new Kp({max:1e3}),em=kr(),gi=jr(),Q=Nr(),tm=ue(),{re:ye,t:he,comparatorTrimReplace:rm,tildeTrimReplace:nm,caretTrimReplace:sm}=Rt(),Nu=r=>r.value==="<0.0.0-0",im=r=>r.value==="",ku=(r,e)=>{let t=!0,s=r.slice(),o=s.pop();for(;t&&s.length;)t=s.every(a=>o.intersects(a,e)),o=s.pop();return t},om=(r,e)=>(Q("comp",r,e),r=um(r,e),Q("caret",r),r=am(r,e),Q("tildes",r),r=fm(r,e),Q("xrange",r),r=dm(r,e),Q("stars",r),r),de=r=>!r||r.toLowerCase()==="x"||r==="*",am=(r,e)=>r.trim().split(/\s+/).map(t=>lm(t,e)).join(" "),lm=(r,e)=>{let t=e.loose?ye[he.TILDELOOSE]:ye[he.TILDE];return r.replace(t,(s,o,a,u,h)=>{Q("tilde",r,s,o,a,u,h);let c;return de(o)?c="":de(a)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:de(u)?c=`>=${o}.${a}.0 <${o}.${+a+1}.0-0`:h?(Q("replaceTilde pr",h),c=`>=${o}.${a}.${u}-${h} <${o}.${+a+1}.0-0`):c=`>=${o}.${a}.${u} <${o}.${+a+1}.0-0`,Q("tilde return",c),c})},um=(r,e)=>r.trim().split(/\s+/).map(t=>cm(t,e)).join(" "),cm=(r,e)=>{Q("caret",r,e);let t=e.loose?ye[he.CARETLOOSE]:ye[he.CARET],s=e.includePrerelease?"-0":"";return r.replace(t,(o,a,u,h,c)=>{Q("caret",r,o,a,u,h,c);let d;return de(a)?d="":de(u)?d=`>=${a}.0.0${s} <${+a+1}.0.0-0`:de(h)?a==="0"?d=`>=${a}.${u}.0${s} <${a}.${+u+1}.0-0`:d=`>=${a}.${u}.0${s} <${+a+1}.0.0-0`:c?(Q("replaceCaret pr",c),a==="0"?u==="0"?d=`>=${a}.${u}.${h}-${c} <${a}.${u}.${+h+1}-0`:d=`>=${a}.${u}.${h}-${c} <${a}.${+u+1}.0-0`:d=`>=${a}.${u}.${h}-${c} <${+a+1}.0.0-0`):(Q("no pr"),a==="0"?u==="0"?d=`>=${a}.${u}.${h}${s} <${a}.${u}.${+h+1}-0`:d=`>=${a}.${u}.${h}${s} <${a}.${+u+1}.0-0`:d=`>=${a}.${u}.${h} <${+a+1}.0.0-0`),Q("caret return",d),d})},fm=(r,e)=>(Q("replaceXRanges",r,e),r.split(/\s+/).map(t=>hm(t,e)).join(" ")),hm=(r,e)=>{r=r.trim();let t=e.loose?ye[he.XRANGELOOSE]:ye[he.XRANGE];return r.replace(t,(s,o,a,u,h,c)=>{Q("xRange",r,s,o,a,u,h,c);let d=de(a),g=d||de(u),y=g||de(h),m=y;return o==="="&&m&&(o=""),c=e.includePrerelease?"-0":"",d?o===">"||o==="<"?s="<0.0.0-0":s="*":o&&m?(g&&(u=0),h=0,o===">"?(o=">=",g?(a=+a+1,u=0,h=0):(u=+u+1,h=0)):o==="<="&&(o="<",g?a=+a+1:u=+u+1),o==="<"&&(c="-0"),s=`${o+a}.${u}.${h}${c}`):g?s=`>=${a}.0.0${c} <${+a+1}.0.0-0`:y&&(s=`>=${a}.${u}.0${c} <${a}.${+u+1}.0-0`),Q("xRange return",s),s})},dm=(r,e)=>(Q("replaceStars",r,e),r.trim().replace(ye[he.STAR],"")),pm=(r,e)=>(Q("replaceGTE0",r,e),r.trim().replace(ye[e.includePrerelease?he.GTE0PRE:he.GTE0],"")),mm=r=>(e,t,s,o,a,u,h,c,d,g,y,m,b)=>(de(s)?t="":de(o)?t=`>=${s}.0.0${r?"-0":""}`:de(a)?t=`>=${s}.${o}.0${r?"-0":""}`:u?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,de(d)?c="":de(g)?c=`<${+d+1}.0.0-0`:de(y)?c=`<${d}.${+g+1}.0-0`:m?c=`<=${d}.${g}.${y}-${m}`:r?c=`<${d}.${g}.${+y+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),gm=(r,e,t)=>{for(let s=0;s<r.length;s++)if(!r[s].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let s=0;s<r.length;s++)if(Q(r[s].semver),r[s].semver!==gi.ANY&&r[s].semver.prerelease.length>0){let o=r[s].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var jr=$((rw,Mu)=>{var Ur=Symbol("SemVer ANY"),Jt=class{static get ANY(){return Ur}constructor(e,t){if(t=bm(t),e instanceof Jt){if(e.loose===!!t.loose)return e;e=e.value}yi("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Ur?this.value="":this.value=this.operator+this.semver.version,yi("comp",this)}parse(e){let t=this.options.loose?Fu[Wu.COMPARATORLOOSE]:Fu[Wu.COMPARATOR],s=e.match(t);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new ju(s[2],this.options.loose):this.semver=Ur}toString(){return this.value}test(e){if(yi("Comparator.test",e,this.options.loose),this.semver===Ur||e===Ur)return!0;if(typeof e=="string")try{e=new ju(e,this.options)}catch{return!1}return bi(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Jt))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Uu(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new Uu(this.value,t).test(e.semver);let s=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),o=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,u=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),h=bi(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=bi(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return s||o||a&&u||h||c}};Mu.exports=Jt;var bm=kr(),{re:Fu,t:Wu}=Rt(),bi=fi(),yi=Nr(),ju=ue(),Uu=Te()});var Mr=$((nw,Hu)=>{var ym=Te(),Sm=(r,e,t)=>{try{e=new ym(e,t)}catch{return!1}return e.test(r)};Hu.exports=Sm});var Vu=$((sw,Gu)=>{var wm=Te(),_m=(r,e)=>new wm(r,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));Gu.exports=_m});var Xu=$((iw,Yu)=>{var Em=ue(),Rm=Te(),vm=(r,e,t)=>{let s=null,o=null,a=null;try{a=new Rm(e,t)}catch{return null}return r.forEach(u=>{a.test(u)&&(!s||o.compare(u)===-1)&&(s=u,o=new Em(s,t))}),s};Yu.exports=vm});var Zu=$((ow,Qu)=>{var Tm=ue(),Am=Te(),$m=(r,e,t)=>{let s=null,o=null,a=null;try{a=new Am(e,t)}catch{return null}return r.forEach(u=>{a.test(u)&&(!s||o.compare(u)===1)&&(s=u,o=new Tm(s,t))}),s};Qu.exports=$m});var ec=$((aw,Ku)=>{var Si=ue(),Cm=Te(),Ju=zr(),Pm=(r,e)=>{r=new Cm(r,e);let t=new Si("0.0.0");if(r.test(t)||(t=new Si("0.0.0-0"),r.test(t)))return t;t=null;for(let s=0;s<r.set.length;++s){let o=r.set[s],a=null;o.forEach(u=>{let h=new Si(u.semver.version);switch(u.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!a||Ju(h,a))&&(a=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),a&&(!t||Ju(t,a))&&(t=a)}return t&&r.test(t)?t:null};Ku.exports=Pm});var rc=$((lw,tc)=>{var Om=Te(),Im=(r,e)=>{try{return new Om(r,e).range||"*"}catch{return null}};tc.exports=Im});var es=$((uw,oc)=>{var xm=ue(),ic=jr(),{ANY:Lm}=ic,qm=Te(),Dm=Mr(),nc=zr(),sc=Yn(),Bm=Qn(),Nm=Xn(),km=(r,e,t,s)=>{r=new xm(r,s),e=new qm(e,s);let o,a,u,h,c;switch(t){case">":o=nc,a=Bm,u=sc,h=">",c=">=";break;case"<":o=sc,a=Nm,u=nc,h="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Dm(r,e,s))return!1;for(let d=0;d<e.set.length;++d){let g=e.set[d],y=null,m=null;if(g.forEach(b=>{b.semver===Lm&&(b=new ic(">=0.0.0")),y=y||b,m=m||b,o(b.semver,y.semver,s)?y=b:u(b.semver,m.semver,s)&&(m=b)}),y.operator===h||y.operator===c||(!m.operator||m.operator===h)&&a(r,m.semver))return!1;if(m.operator===c&&u(r,m.semver))return!1}return!0};oc.exports=km});var lc=$((cw,ac)=>{var zm=es(),Fm=(r,e,t)=>zm(r,e,">",t);ac.exports=Fm});var cc=$((fw,uc)=>{var Wm=es(),jm=(r,e,t)=>Wm(r,e,"<",t);uc.exports=jm});var dc=$((hw,hc)=>{var fc=Te(),Um=(r,e,t)=>(r=new fc(r,t),e=new fc(e,t),r.intersects(e));hc.exports=Um});var mc=$((dw,pc)=>{var Mm=Mr(),Hm=ve();pc.exports=(r,e,t)=>{let s=[],o=null,a=null,u=r.sort((g,y)=>Hm(g,y,t));for(let g of u)Mm(g,e,t)?(a=g,o||(o=g)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);let h=[];for(let[g,y]of s)g===y?h.push(g):!y&&g===u[0]?h.push("*"):y?g===u[0]?h.push(`<=${y}`):h.push(`${g} - ${y}`):h.push(`>=${g}`);let c=h.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return c.length<d.length?c:e}});var wc=$((pw,Sc)=>{var gc=Te(),ts=jr(),{ANY:wi}=ts,Hr=Mr(),_i=ve(),Gm=(r,e,t={})=>{if(r===e)return!0;r=new gc(r,t),e=new gc(e,t);let s=!1;e:for(let o of r.set){for(let a of e.set){let u=Vm(o,a,t);if(s=s||u!==null,u)continue e}if(s)return!1}return!0},Vm=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===wi){if(e.length===1&&e[0].semver===wi)return!0;t.includePrerelease?r=[new ts(">=0.0.0-0")]:r=[new ts(">=0.0.0")]}if(e.length===1&&e[0].semver===wi){if(t.includePrerelease)return!0;e=[new ts(">=0.0.0")]}let s=new Set,o,a;for(let b of r)b.operator===">"||b.operator===">="?o=bc(o,b,t):b.operator==="<"||b.operator==="<="?a=yc(a,b,t):s.add(b.semver);if(s.size>1)return null;let u;if(o&&a){if(u=_i(o.semver,a.semver,t),u>0)return null;if(u===0&&(o.operator!==">="||a.operator!=="<="))return null}for(let b of s){if(o&&!Hr(b,String(o),t)||a&&!Hr(b,String(a),t))return null;for(let S of e)if(!Hr(b,String(S),t))return!1;return!0}let h,c,d,g,y=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1;y&&y.prerelease.length===1&&a.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(let b of e){if(g=g||b.operator===">"||b.operator===">=",d=d||b.operator==="<"||b.operator==="<=",o){if(m&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===m.major&&b.semver.minor===m.minor&&b.semver.patch===m.patch&&(m=!1),b.operator===">"||b.operator===">="){if(h=bc(o,b,t),h===b&&h!==o)return!1}else if(o.operator===">="&&!Hr(o.semver,String(b),t))return!1}if(a){if(y&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===y.major&&b.semver.minor===y.minor&&b.semver.patch===y.patch&&(y=!1),b.operator==="<"||b.operator==="<="){if(c=yc(a,b,t),c===b&&c!==a)return!1}else if(a.operator==="<="&&!Hr(a.semver,String(b),t))return!1}if(!b.operator&&(a||o)&&u!==0)return!1}return!(o&&d&&!a&&u!==0||a&&g&&!o&&u!==0||m||y)},bc=(r,e,t)=>{if(!r)return e;let s=_i(r.semver,e.semver,t);return s>0?r:s<0||e.operator===">"&&r.operator===">="?e:r},yc=(r,e,t)=>{if(!r)return e;let s=_i(r.semver,e.semver,t);return s<0?r:s>0||e.operator==="<"&&r.operator==="<="?e:r};Sc.exports=Gm});var Rc=$((mw,Ec)=>{var Ei=Rt(),Ym=Br(),Xm=ue(),_c=ui(),Qm=vt(),Zm=Ul(),Jm=Hl(),Km=Yl(),eg=eu(),tg=ru(),rg=su(),ng=ou(),sg=lu(),ig=ve(),og=cu(),ag=hu(),lg=Vn(),ug=gu(),cg=yu(),fg=zr(),hg=Yn(),dg=Gn(),pg=ci(),mg=Xn(),gg=Qn(),bg=fi(),yg=Au(),Sg=jr(),wg=Te(),_g=Mr(),Eg=Vu(),Rg=Xu(),vg=Zu(),Tg=ec(),Ag=rc(),$g=es(),Cg=lc(),Pg=cc(),Og=dc(),Ig=mc(),xg=wc();Ec.exports={parse:Qm,valid:Zm,clean:Jm,inc:Km,diff:eg,major:tg,minor:rg,patch:ng,prerelease:sg,compare:ig,rcompare:og,compareLoose:ag,compareBuild:lg,sort:ug,rsort:cg,gt:fg,lt:hg,eq:dg,neq:pg,gte:mg,lte:gg,cmp:bg,coerce:yg,Comparator:Sg,Range:wg,satisfies:_g,toComparators:Eg,maxSatisfying:Rg,minSatisfying:vg,minVersion:Tg,validRange:Ag,outside:$g,gtr:Cg,ltr:Pg,intersects:Og,simplifyRange:Ig,subset:xg,SemVer:Xm,re:Ei.re,src:Ei.src,tokens:Ei.t,SEMVER_SPEC_VERSION:Ym.SEMVER_SPEC_VERSION,compareIdentifiers:_c.compareIdentifiers,rcompareIdentifiers:_c.rcompareIdentifiers}});var Cc=$((gw,$c)=>{$c.exports=function(r,e){e||(e={});var t=e.hsep===void 0?"  ":e.hsep,s=e.align||[],o=e.stringLength||function(c){return String(c).length},a=Tc(r,function(c,d){return Ac(d,function(g,y){var m=vc(g);(!c[y]||m>c[y])&&(c[y]=m)}),c},[]),u=rs(r,function(c){return rs(c,function(d,g){var y=String(d);if(s[g]==="."){var m=vc(y),b=a[g]+(/\./.test(y)?1:2)-(o(y)-m);return y+Array(b).join(" ")}else return y})}),h=Tc(u,function(c,d){return Ac(d,function(g,y){var m=o(g);(!c[y]||m>c[y])&&(c[y]=m)}),c},[]);return rs(u,function(c){return rs(c,function(d,g){var y=h[g]-o(d)||0,m=Array(Math.max(y+1,1)).join(" ");return s[g]==="r"||s[g]==="."?m+d:s[g]==="c"?Array(Math.ceil(y/2+1)).join(" ")+d+Array(Math.floor(y/2+1)).join(" "):d+m}).join(t).replace(/\s+$/,"")}).join(`
`)};function vc(r){var e=/\.[^.]*$/.exec(r);return e?e.index+1:r.length}function Tc(r,e,t){if(r.reduce)return r.reduce(e,t);for(var s=0,o=arguments.length>=3?t:r[s++];s<r.length;s++)e(o,r[s],s);return o}function Ac(r,e){if(r.forEach)return r.forEach(e);for(var t=0;t<r.length;t++)e.call(r,r[t],t)}function rs(r,e){if(r.map)return r.map(e);for(var t=[],s=0;s<r.length;s++)t.push(e.call(r,r[s],s));return t}});var xc=$((Sw,Ic)=>{var Ri=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Lg=typeof AbortController<"u",Pc=Lg?AbortController:Object.assign(class{constructor(){this.signal=new Pc.AbortSignal}abort(){this.signal.aborted=!0}},{AbortSignal:class{constructor(){this.aborted=!1}}}),$i=new Set,vi=(r,e)=>{let t=`LRU_CACHE_OPTION_${r}`;ns(t)&&Ci(t,`${r} option`,`options.${e}`,ke)},Ti=(r,e)=>{let t=`LRU_CACHE_METHOD_${r}`;if(ns(t)){let{prototype:s}=ke,{get:o}=Object.getOwnPropertyDescriptor(s,r);Ci(t,`${r} method`,`cache.${e}()`,o)}},qg=(r,e)=>{let t=`LRU_CACHE_PROPERTY_${r}`;if(ns(t)){let{prototype:s}=ke,{get:o}=Object.getOwnPropertyDescriptor(s,r);Ci(t,`${r} property`,`cache.${e}`,o)}},ns=r=>typeof process=="object"&&process&&!$i.has(r),Ci=(r,e,t,s)=>{$i.add(r);let o=`The ${e} is deprecated. Please use ${t} instead.`;process.emitWarning(o,"DeprecationWarning",r,s)},Pt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),Oc=r=>Pt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?Kt:null:null,Kt=class extends Array{constructor(e){super(e),this.fill(0)}},Ai=class{constructor(e){let t=e?Oc(e):Array;this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},ke=class{constructor(e={}){let{max:t=0,ttl:s,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:u,allowStale:h,dispose:c,disposeAfter:d,noDisposeOnSet:g,noUpdateTTL:y,maxSize:m=0,sizeCalculation:b,fetchMethod:S}=e,{length:v,maxAge:w,stale:R}=e instanceof ke?{}:e;if(t!==0&&!Pt(t))throw new TypeError("max option must be a nonnegative integer");let O=t?Oc(t):Array;if(!O)throw new Error("invalid max value: "+t);if(this.max=t,this.maxSize=m,this.sizeCalculation=b||v,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=S||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new O(t),this.prev=new O(t),this.head=0,this.tail=0,this.free=new Ai(t),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.maxSize!==0){if(!Pt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!h||!!R,this.updateAgeOnGet=!!u,this.ttlResolution=Pt(o)||o===0?o:1,this.ttlAutopurge=!!a,this.ttl=s||w||0,this.ttl){if(!Pt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let D="LRU_CACHE_UNBOUNDED";if(ns(D)){$i.add(D);let T="TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.";process.emitWarning(T,"UnboundedCacheWarning",D,ke)}}R&&vi("stale","allowStale"),w&&vi("maxAge","ttl"),v&&vi("length","sizeCalculation")}getRemainingTTL(e){return this.has(e)?1/0:0}initializeTTLTracking(){this.ttls=new Kt(this.max),this.starts=new Kt(this.max),this.setItemTTL=(s,o)=>{if(this.starts[s]=o!==0?Ri.now():0,this.ttls[s]=o,o!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(s)&&this.delete(this.keyList[s])},o+1);a.unref&&a.unref()}},this.updateItemAge=s=>{this.starts[s]=this.ttls[s]!==0?Ri.now():0};let e=0,t=()=>{let s=Ri.now();if(this.ttlResolution>0){e=s;let o=setTimeout(()=>e=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.keyMap.get(s);return o===void 0?0:this.ttls[o]===0||this.starts[o]===0?1/0:this.starts[o]+this.ttls[o]-(e||t())},this.isStale=s=>this.ttls[s]!==0&&this.starts[s]!==0&&(e||t())-this.starts[s]>this.ttls[s]}updateItemAge(e){}setItemTTL(e,t){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Kt(this.max),this.removeItemSize=e=>this.calculatedSize-=this.sizes[e],this.requireSize=(e,t,s,o)=>{if(!Pt(s))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(s=o(t,e),!Pt(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return s},this.addItemSize=(e,t,s,o)=>{this.sizes[e]=o;let a=this.maxSize-this.sizes[e];for(;this.calculatedSize>a;)this.evict();this.calculatedSize+=this.sizes[e]},this.delete=e=>{if(this.size!==0){let t=this.keyMap.get(e);t!==void 0&&(this.calculatedSize-=this.sizes[t])}return ke.prototype.delete.call(this,e)}}removeItemSize(e){}addItemSize(e,t,s,o){}requireSize(e,t,s,o){if(s||o)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.tail;!(!this.isValidIndex(t)||((e||!this.isStale(t))&&(yield t),t===this.head));)t=this.prev[t]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.head;!(!this.isValidIndex(t)||((e||!this.isStale(t))&&(yield t),t===this.tail));)t=this.next[t]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,t={}){for(let s of this.indexes())if(e(this.valList[s],this.keyList[s],this))return this.get(this.keyList[s],t)}forEach(e,t=this){for(let s of this.indexes())e.call(t,this.valList[s],this.keyList[s],this)}rforEach(e,t=this){for(let s of this.rindexes())e.call(t,this.valList[s],this.keyList[s],this)}get prune(){return Ti("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let t of this.rindexes({allowStale:!0}))this.isStale(t)&&(this.delete(this.keyList[t]),e=!0);return e}dump(){let e=[];for(let t of this.indexes()){let s=this.keyList[t],a={value:this.valList[t]};this.ttls&&(a.ttl=this.ttls[t]),this.sizes&&(a.size=this.sizes[t]),e.unshift([s,a])}return e}load(e){this.clear();for(let[t,s]of e)this.set(t,s.value,s)}dispose(e,t,s){}set(e,t,{ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL}={}){a=this.requireSize(e,t,a,u);let c=this.size===0?void 0:this.keyMap.get(e);if(c===void 0)c=this.newIndex(),this.keyList[c]=e,this.valList[c]=t,this.keyMap.set(e,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,t,e,a),h=!1;else{let d=this.valList[c];t!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():o||(this.dispose(d,e,"set"),this.disposeAfter&&this.disposed.push([d,e,"set"])),this.removeItemSize(c),this.valList[c]=t,this.addItemSize(c,t,e,a)),this.moveToTail(c)}if(s!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),h||this.setItemTTL(c,s),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max?this.evict():this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(),e}}evict(){let e=this.head,t=this.keyList[e],s=this.valList[e];return this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,t,"evict"),this.disposeAfter&&this.disposed.push([s,t,"evict"])),this.removeItemSize(e),this.head=this.next[e],this.keyMap.delete(t),this.size--,e}has(e){return this.keyMap.has(e)&&!this.isStale(this.keyMap.get(e))}peek(e,{allowStale:t=this.allowStale}={}){let s=this.keyMap.get(e);if(s!==void 0&&(t||!this.isStale(s)))return this.valList[s]}backgroundFetch(e,t,s){let o=t===void 0?void 0:this.valList[t];if(this.isBackgroundFetch(o))return o;let a=new Pc,u={signal:a.signal,options:s},h=Promise.resolve(this.fetchMethod(e,o,u)).then(c=>(a.signal.aborted||this.set(e,c,u.options),c));return h.__abortController=a,h.__staleWhileFetching=o,t===void 0?(this.set(e,h,u.options),t=this.keyMap.get(e)):this.valList[t]=h,h}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:u=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(!this.fetchMethod)return this.get(e,{allowStale:t,updateAgeOnGet:s});let d={allowStale:t,updateAgeOnGet:s,ttl:o,noDisposeOnSet:a,size:u,sizeCalculation:h,noUpdateTTL:c},g=this.keyMap.get(e);if(g===void 0)return this.backgroundFetch(e,g,d);{let y=this.valList[g];if(this.isBackgroundFetch(y))return t&&y.__staleWhileFetching!==void 0?y.__staleWhileFetching:y;if(!this.isStale(g))return this.moveToTail(g),s&&this.updateItemAge(g),y;let m=this.backgroundFetch(e,g,d);return t&&m.__staleWhileFetching!==void 0?m.__staleWhileFetching:m}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet}={}){let o=this.keyMap.get(e);if(o!==void 0){let a=this.valList[o],u=this.isBackgroundFetch(a);return this.isStale(o)?u?t?a.__staleWhileFetching:void 0:(this.delete(e),t?a:void 0):u?void 0:(this.moveToTail(o),s&&this.updateItemAge(o),a)}}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return Ti("del","delete"),this.delete}delete(e){let t=!1;if(this.size!==0){let s=this.keyMap.get(e);if(s!==void 0)if(t=!0,this.size===1)this.clear();else{this.removeItemSize(s);let o=this.valList[s];this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,e,"delete"),this.disposeAfter&&this.disposed.push([o,e,"delete"])),this.keyMap.delete(e),this.keyList[s]=null,this.valList[s]=null,s===this.tail?this.tail=this.prev[s]:s===this.head?this.head=this.next[s]:(this.next[this.prev[s]]=this.next[s],this.prev[this.next[s]]=this.prev[s]),this.size--,this.free.push(s)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return t}clear(){for(let e of this.rindexes({allowStale:!0})){let t=this.valList[e];if(this.isBackgroundFetch(t))t.__abortController.abort();else{let s=this.keyList[e];this.dispose(t,s,"delete"),this.disposeAfter&&this.disposed.push([t,s,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Ti("reset","clear"),this.clear}get length(){return qg("length","size"),this.size}};Ic.exports=ke});var Dc=$((ww,qc)=>{"use strict";var j=(...r)=>r.every(e=>e)?r.join(""):"",K=r=>r?encodeURIComponent(r):"",Lc=r=>r.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),Dg={sshtemplate:({domain:r,user:e,project:t,committish:s})=>`git@${r}:${e}/${t}.git${j("#",s)}`,sshurltemplate:({domain:r,user:e,project:t,committish:s})=>`git+ssh://git@${r}/${e}/${t}.git${j("#",s)}`,edittemplate:({domain:r,user:e,project:t,committish:s,editpath:o,path:a})=>`https://${r}/${e}/${t}${j("/",o,"/",K(s||"HEAD"),"/",a)}`,browsetemplate:({domain:r,user:e,project:t,committish:s,treepath:o})=>`https://${r}/${e}/${t}${j("/",o,"/",K(s))}`,browsetreetemplate:({domain:r,user:e,project:t,committish:s,treepath:o,path:a,fragment:u,hashformat:h})=>`https://${r}/${e}/${t}/${o}/${K(s||"HEAD")}/${a}${j("#",h(u||""))}`,browseblobtemplate:({domain:r,user:e,project:t,committish:s,blobpath:o,path:a,fragment:u,hashformat:h})=>`https://${r}/${e}/${t}/${o}/${K(s||"HEAD")}/${a}${j("#",h(u||""))}`,docstemplate:({domain:r,user:e,project:t,treepath:s,committish:o})=>`https://${r}/${e}/${t}${j("/",s,"/",K(o))}#readme`,httpstemplate:({auth:r,domain:e,user:t,project:s,committish:o})=>`git+https://${j(r,"@")}${e}/${t}/${s}.git${j("#",o)}`,filetemplate:({domain:r,user:e,project:t,committish:s,path:o})=>`https://${r}/${e}/${t}/raw/${K(s||"HEAD")}/${o}`,shortcuttemplate:({type:r,user:e,project:t,committish:s})=>`${r}:${e}/${t}${j("#",s)}`,pathtemplate:({user:r,project:e,committish:t})=>`${r}/${e}${j("#",t)}`,bugstemplate:({domain:r,user:e,project:t})=>`https://${r}/${e}/${t}/issues`,hashformat:Lc},lt={};lt.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:r,user:e,project:t,committish:s,path:o})=>`https://${j(r,"@")}raw.githubusercontent.com/${e}/${t}/${K(s||"HEAD")}/${o}`,gittemplate:({auth:r,domain:e,user:t,project:s,committish:o})=>`git://${j(r,"@")}${e}/${t}/${s}.git${j("#",o)}`,tarballtemplate:({domain:r,user:e,project:t,committish:s})=>`https://codeload.${r}/${e}/${t}/tar.gz/${K(s||"HEAD")}`,extract:r=>{let[,e,t,s,o]=r.pathname.split("/",5);if(!(s&&s!=="tree")&&(s||(o=r.hash.slice(1)),t&&t.endsWith(".git")&&(t=t.slice(0,-4)),!(!e||!t)))return{user:e,project:t,committish:o}}};lt.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:r,user:e,project:t,committish:s,treepath:o,path:a,editpath:u})=>`https://${r}/${e}/${t}${j("/",o,"/",K(s||"HEAD"),"/",a,u)}`,tarballtemplate:({domain:r,user:e,project:t,committish:s})=>`https://${r}/${e}/${t}/get/${K(s||"HEAD")}.tar.gz`,extract:r=>{let[,e,t,s]=r.pathname.split("/",4);if(!["get"].includes(s)&&(t&&t.endsWith(".git")&&(t=t.slice(0,-4)),!(!e||!t)))return{user:e,project:t,committish:r.hash.slice(1)}}};lt.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:r,domain:e,user:t,project:s,committish:o})=>`git+https://${j(r,"@")}${e}/${t}/${s}.git${j("#",o)}`,tarballtemplate:({domain:r,user:e,project:t,committish:s})=>`https://${r}/${e}/${t}/repository/archive.tar.gz?ref=${K(s||"HEAD")}`,extract:r=>{let e=r.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz"))return;let t=e.split("/"),s=t.pop();s.endsWith(".git")&&(s=s.slice(0,-4));let o=t.join("/");if(!(!o||!s))return{user:o,project:s,committish:r.hash.slice(1)}}};lt.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:r,project:e,committish:t})=>`git@${r}:${e}.git${j("#",t)}`,sshurltemplate:({domain:r,project:e,committish:t})=>`git+ssh://git@${r}/${e}.git${j("#",t)}`,edittemplate:({domain:r,user:e,project:t,committish:s,editpath:o})=>`https://${r}/${e}/${t}${j("/",K(s))}/${o}`,browsetemplate:({domain:r,project:e,committish:t})=>`https://${r}/${e}${j("/",K(t))}`,browsetreetemplate:({domain:r,project:e,committish:t,path:s,hashformat:o})=>`https://${r}/${e}${j("/",K(t))}${j("#",o(s))}`,browseblobtemplate:({domain:r,project:e,committish:t,path:s,hashformat:o})=>`https://${r}/${e}${j("/",K(t))}${j("#",o(s))}`,docstemplate:({domain:r,project:e,committish:t})=>`https://${r}/${e}${j("/",K(t))}`,httpstemplate:({domain:r,project:e,committish:t})=>`git+https://${r}/${e}.git${j("#",t)}`,filetemplate:({user:r,project:e,committish:t,path:s})=>`https://gist.githubusercontent.com/${r}/${e}/raw${j("/",K(t))}/${s}`,shortcuttemplate:({type:r,project:e,committish:t})=>`${r}:${e}${j("#",t)}`,pathtemplate:({project:r,committish:e})=>`${r}${j("#",e)}`,bugstemplate:({domain:r,project:e})=>`https://${r}/${e}`,gittemplate:({domain:r,project:e,committish:t})=>`git://${r}/${e}.git${j("#",t)}`,tarballtemplate:({project:r,committish:e})=>`https://codeload.github.com/gist/${r}/tar.gz/${K(e||"HEAD")}`,extract:r=>{let[,e,t,s]=r.pathname.split("/",4);if(s!=="raw"){if(!t){if(!e)return;t=e,e=null}return t.endsWith(".git")&&(t=t.slice(0,-4)),{user:e,project:t,committish:r.hash.slice(1)}}},hashformat:function(r){return r&&"file-"+Lc(r)}};lt.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:r,user:e,project:t,committish:s,path:o})=>`https://${r}/${e}/${t}/blob/${K(s)||"HEAD"}/${o}`,httpstemplate:({domain:r,user:e,project:t,committish:s})=>`https://${r}/${e}/${t}.git${j("#",s)}`,tarballtemplate:({domain:r,user:e,project:t,committish:s})=>`https://${r}/${e}/${t}/archive/${K(s)||"HEAD"}.tar.gz`,bugstemplate:({user:r,project:e})=>`https://todo.sr.ht/${r}/${e}`,extract:r=>{let[,e,t,s]=r.pathname.split("/",4);if(!["archive"].includes(s)&&(t&&t.endsWith(".git")&&(t=t.slice(0,-4)),!(!e||!t)))return{user:e,project:t,committish:r.hash.slice(1)}}};for(let[r,e]of Object.entries(lt))lt[r]=Object.assign({},Dg,e);qc.exports=lt});var Oi=$((_w,Nc)=>{var Bg=Se("url"),Pi=(r,e,t)=>{let s=r.indexOf(t);return r.lastIndexOf(e,s>-1?s:1/0)},Bc=r=>{try{return new Bg.URL(r)}catch{}},Ng=(r,e)=>{let t=r.indexOf(":"),s=r.slice(0,t+1);if(Object.prototype.hasOwnProperty.call(e,s))return r;let o=r.indexOf("@");return o>-1?o>t?`git+ssh://${r}`:r:r.indexOf("//")===t+1?r:`${r.slice(0,t+1)}//${r.slice(t+1)}`},kg=r=>{let e=Pi(r,"@","#"),t=Pi(r,":","#");return t>e&&(r=r.slice(0,t)+"/"+r.slice(t+1)),Pi(r,":","#")===-1&&r.indexOf("//")===-1&&(r=`git+ssh://${r}`),r};Nc.exports=(r,e)=>{let t=e?Ng(r,e):r;return Bc(t)||Bc(kg(t))}});var zc=$((Ew,kc)=>{"use strict";var zg=Oi(),Fg=r=>{let e=r.indexOf("#"),t=r.indexOf("/"),s=r.indexOf("/",t+1),o=r.indexOf(":"),a=/\s/.exec(r),u=r.indexOf("@"),h=!a||e>-1&&a.index>e,c=u===-1||e>-1&&u>e,d=o===-1||e>-1&&o>e,g=s===-1||e>-1&&s>e,y=t>0,m=e>-1?r[e-1]!=="/":!r.endsWith("/"),b=!r.startsWith(".");return h&&y&&m&&b&&c&&d&&g};kc.exports=(r,e,{gitHosts:t,protocols:s})=>{var v,w;if(!r)return;let o=Fg(r)?`github:${r}`:r,a=zg(o,s);if(!a)return;let u=t.byShortcut[a.protocol],h=t.byDomain[a.hostname.startsWith("www.")?a.hostname.slice(4):a.hostname],c=u||h;if(!c)return;let d=t[u||h],g=null;(v=s[a.protocol])!=null&&v.auth&&(a.username||a.password)&&(g=`${a.username}${a.password?":"+a.password:""}`);let y=null,m=null,b=null,S=null;try{if(u){let R=a.pathname.startsWith("/")?a.pathname.slice(1):a.pathname,O=R.indexOf("@");O>-1&&(R=R.slice(O+1));let D=R.lastIndexOf("/");D>-1?(m=decodeURIComponent(R.slice(0,D)),m||(m=null),b=decodeURIComponent(R.slice(D+1))):b=decodeURIComponent(R),b.endsWith(".git")&&(b=b.slice(0,-4)),a.hash&&(y=decodeURIComponent(a.hash.slice(1))),S="shortcut"}else{if(!d.protocols.includes(a.protocol))return;let R=d.extract(a);if(!R)return;m=R.user&&decodeURIComponent(R.user),b=decodeURIComponent(R.project),y=decodeURIComponent(R.committish),S=((w=s[a.protocol])==null?void 0:w.name)||a.protocol.slice(0,-1)}}catch(R){if(R instanceof URIError)return;throw R}return[c,m,g,b,y,S,e]}});var Wc=$((Rw,Fc)=>{"use strict";var Wg=xc(),jg=Dc(),Ug=zc(),Mg=Oi(),Ii=new Wg({max:1e3}),ut,Gr,re,le,ze=class{constructor(e,t,s,o,a,u,h={}){ie(this,re);Object.assign(this,z(ze,ut)[e],{type:e,user:t,auth:s,project:o,committish:a,default:u,opts:h})}static addHost(e,t){z(ze,ut)[e]=t,z(ze,ut).byDomain[t.domain]=e,z(ze,ut).byShortcut[`${e}:`]=e,z(ze,Gr)[`${e}:`]={name:e}}static fromUrl(e,t){if(typeof e!="string")return;let s=e+JSON.stringify(t||{});if(!Ii.has(s)){let o=Ug(e,t,{gitHosts:z(ze,ut),protocols:z(ze,Gr)});Ii.set(s,o?new ze(...o):void 0)}return Ii.get(s)}static parseUrl(e){return Mg(e)}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return oe(this,re,le).call(this,this.sshtemplate,e)}sshurl(e){return oe(this,re,le).call(this,this.sshurltemplate,e)}browse(e,...t){return typeof e!="string"?oe(this,re,le).call(this,this.browsetemplate,e):typeof t[0]!="string"?oe(this,re,le).call(this,this.browsetreetemplate,{...t[0],path:e}):oe(this,re,le).call(this,this.browsetreetemplate,{...t[1],fragment:t[0],path:e})}browseFile(e,...t){return typeof t[0]!="string"?oe(this,re,le).call(this,this.browseblobtemplate,{...t[0],path:e}):oe(this,re,le).call(this,this.browseblobtemplate,{...t[1],fragment:t[0],path:e})}docs(e){return oe(this,re,le).call(this,this.docstemplate,e)}bugs(e){return oe(this,re,le).call(this,this.bugstemplate,e)}https(e){return oe(this,re,le).call(this,this.httpstemplate,e)}git(e){return oe(this,re,le).call(this,this.gittemplate,e)}shortcut(e){return oe(this,re,le).call(this,this.shortcuttemplate,e)}path(e){return oe(this,re,le).call(this,this.pathtemplate,e)}tarball(e){return oe(this,re,le).call(this,this.tarballtemplate,{...e,noCommittish:!1})}file(e,t){return oe(this,re,le).call(this,this.filetemplate,{...t,path:e})}edit(e,t){return oe(this,re,le).call(this,this.edittemplate,{...t,path:e})}getDefaultRepresentation(){return this.default}toString(e){return this.default&&typeof this[this.default]=="function"?this[this.default](e):this.sshurl(e)}},er=ze;ut=new WeakMap,Gr=new WeakMap,re=new WeakSet,le=function(e,t){if(typeof e!="function")return null;let s={...this,...this.opts,...t};s.path||(s.path=""),s.path.startsWith("/")&&(s.path=s.path.slice(1)),s.noCommittish&&(s.committish=null);let o=e(s);return s.noGitPlus&&o.startsWith("git+")?o.slice(4):o},ie(er,ut,{byShortcut:{},byDomain:{}}),ie(er,Gr,{"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}});for(let[r,e]of Object.entries(jg))er.addHost(r,e);Fc.exports=er});function Fs({onlyFirst:r=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,r?void 0:"g")}var Hs=Ie(sa(),1);var ia=Hs.default.HttpProxyAgent,oa=Hs.default.HttpsProxyAgent;var Rr=class extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(let[t,s]of e)this.onEviction(t,s.value)}_deleteIfExpired(e,t){return typeof t.expiry=="number"&&t.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,t.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,t){if(this._deleteIfExpired(e,t)===!1)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){let s=t.get(e);return this._getItemValue(e,s)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(let e of this.oldCache){let[t,s]=e;this.cache.has(t)||this._deleteIfExpired(t,s)===!1&&(yield e)}for(let e of this.cache){let[t,s]=e;this._deleteIfExpired(t,s)===!1&&(yield e)}}get(e){if(this.cache.has(e)){let t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){let t=this.oldCache.get(e);if(this._deleteIfExpired(e,t)===!1)return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:s=this.maxAge}={}){let o=typeof s=="number"&&s!==Number.POSITIVE_INFINITY?Date.now()+s:void 0;this.cache.has(e)?this.cache.set(e,{value:t,expiry:o}):this._set(e,{value:t,expiry:o})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");let t=[...this._entriesAscending()],s=t.length-e;s<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(s>0&&this._emitEvictions(t.slice(0,s)),this.oldCache=new Map(t.slice(s)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache){let[t,s]=e;this._deleteIfExpired(t,s)===!1&&(yield[t,s.value])}for(let e of this.oldCache){let[t,s]=e;this.cache.has(t)||this._deleteIfExpired(t,s)===!1&&(yield[t,s.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){let s=e[t],[o,a]=s;this._deleteIfExpired(o,a)===!1&&(yield[o,a.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){let s=e[t],[o,a]=s;this.cache.has(o)||this._deleteIfExpired(o,a)===!1&&(yield[o,a.value])}}*entriesAscending(){for(let[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(let t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(let[s,o]of this.entriesAscending())e.call(t,o,s,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};var ca=Ie(la(),1);import{Agent as Mh}from"http";import{Agent as Hh}from"https";var Gh={agentCacheSize:512},ua={maxSockets:64,keepAlive:!1},vr=class extends Error{constructor(e){super(e),this.name="TimeoutError",Error.captureStackTrace(this,vr)}};function Gs(r,e={}){if(!("undici"in e))throw new Error("The 'undici' option is required");let t={...Gh,...e},s=new Rr({maxSize:t.agentCacheSize});async function o(u,h={}){let{origin:c,protocol:d}=new URL(u),g=h!=null&&h.noProxy?null:(0,ca.getProxyForUrl)(u),y=JSON.stringify({proxyUrl:g,origin:c,...h});if(s.has(y))return s.get(y);let m;if("noProxy"in h&&delete h.noProxy,e.undici){let{ProxyAgent:b,Agent:S}=await import("undici"),v={...h};"keepAlive"in v&&!("pipelining"in v)&&(v.pipelining=v.keepAlive?1:0),"keepAlive"in v&&delete v.keepAlive,"maxSockets"in v&&(v.connections=v.maxSockets,delete v.maxSockets),g?m=new b({...v,uri:g}):m=new S(v)}else{let b=d==="https:";g?m=new(b?oa:ia)({...h,proxy:g}):m=new(b?Hh:Mh)(h)}return s.set(y,m),m}let a=(u,{timeout:h=0,agentOpts:c={},...d}={})=>new Promise(async(g,y)=>{var S;if(!e.undici&&!("agent"in d)){let v=await o(u,{...ua,...c});v&&(d.agent=v)}else if(e.undici&&!("dispatcher"in d)){let v=await o(u,{...ua,...c});v&&(d.dispatcher=v)}let m,b;h&&(!("signal"in d)&&globalThis.AbortController&&(b=new AbortController,d.signal=b.signal),m=setTimeout(()=>{var w;(w=b==null?void 0:b.abort)==null||w.call(b);let v=new vr(`${d.method||"GET"} ${u} timed out after ${h}ms`);y(v)},h),(S=m==null?void 0:m.unref)==null||S.call(m)),r(u,d).then(v=>{m&&clearTimeout(m),g(v)}).catch(v=>{if(m&&clearTimeout(m),v.name==="AbortError")return g(null);y(v)})});return a.clearCache=()=>{for(let u of s.values())"destroy"in u&&u.destroy();s.clear()},a}var Qc=Ie(Vs(),1);import wd from"http";import _d from"https";import Mt from"zlib";import Xa,{PassThrough as Qa,pipeline as Ht}from"stream";import{Buffer as zn}from"buffer";function Yh(r){if(!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let e=r.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let t=r.substring(5,e).split(";"),s="",o=!1,a=t[0]||"text/plain",u=a;for(let g=1;g<t.length;g++)t[g]==="base64"?o=!0:(u+=`;${t[g]}`,t[g].indexOf("charset=")===0&&(s=t[g].substring(8)));!t[0]&&!s.length&&(u+=";charset=US-ASCII",s="US-ASCII");let h=o?"base64":"ascii",c=unescape(r.substring(e+1)),d=Buffer.from(c,h);return d.type=a,d.typeFull=u,d.charset=s,d}var pa=Yh;Ar();On();import ot,{PassThrough as Da}from"stream";import{types as Ba,deprecate as ri,promisify as fd}from"util";import{Buffer as Re}from"buffer";var Ge=class extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ge=class extends Ge{constructor(e,t,s){super(e,t),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};var In=Symbol.toStringTag,Zs=r=>typeof r=="object"&&typeof r.append=="function"&&typeof r.delete=="function"&&typeof r.get=="function"&&typeof r.getAll=="function"&&typeof r.has=="function"&&typeof r.set=="function"&&typeof r.sort=="function"&&r[In]==="URLSearchParams",Or=r=>r&&typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&/^(Blob|File)$/.test(r[In]),Ta=r=>typeof r=="object"&&(r[In]==="AbortSignal"||r[In]==="EventTarget"),Aa=(r,e)=>{let t=new URL(e).hostname,s=new URL(r).hostname;return t===s||t.endsWith(`.${s}`)},$a=(r,e)=>{let t=new URL(e).protocol,s=new URL(r).protocol;return t===s};var hd=fd(ot.pipeline),be=Symbol("Body internals"),Ne=class{constructor(e,{size:t=0}={}){let s=null;e===null?e=null:Zs(e)?e=Re.from(e.toString()):Or(e)||Re.isBuffer(e)||(Ba.isAnyArrayBuffer(e)?e=Re.from(e):ArrayBuffer.isView(e)?e=Re.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ot||(e instanceof yt?(e=va(e),s=e.type.split("=")[1]):e=Re.from(String(e))));let o=e;Re.isBuffer(e)?o=ot.Readable.from(e):Or(e)&&(o=ot.Readable.from(e.stream())),this[be]={body:e,stream:o,boundary:s,disturbed:!1,error:null},this.size=t,e instanceof ot&&e.on("error",a=>{let u=a instanceof Ge?a:new ge(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[be].error=u})}get body(){return this[be].stream}get bodyUsed(){return this[be].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:s}=await ti(this);return e.slice(t,t+s)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let s=new yt,o=new URLSearchParams(await this.text());for(let[a,u]of o)s.append(a,u);return s}let{toFormData:t}=await Promise.resolve().then(()=>(qa(),La));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[be].body&&this[be].body.type||"",t=await this.arrayBuffer();return new He([t],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await ti(this);return new TextDecoder().decode(e)}buffer(){return ti(this)}};Ne.prototype.buffer=ri(Ne.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ne.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:ri(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function ti(r){if(r[be].disturbed)throw new TypeError(`body used already for: ${r.url}`);if(r[be].disturbed=!0,r[be].error)throw r[be].error;let{body:e}=r;if(e===null)return Re.alloc(0);if(!(e instanceof ot))return Re.alloc(0);let t=[],s=0;try{for await(let o of e){if(r.size>0&&s+o.length>r.size){let a=new ge(`content size at ${r.url} over limit: ${r.size}`,"max-size");throw e.destroy(a),a}s+=o.length,t.push(o)}}catch(o){throw o instanceof Ge?o:new ge(`Invalid response body while trying to fetch ${r.url}: ${o.message}`,"system",o)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return t.every(o=>typeof o=="string")?Re.from(t.join("")):Re.concat(t,s)}catch(o){throw new ge(`Could not create Buffer from response body for ${r.url}: ${o.message}`,"system",o)}else throw new ge(`Premature close of server response while trying to fetch ${r.url}`)}var jt=(r,e)=>{let t,s,{body:o}=r[be];if(r.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof ot&&typeof o.getBoundary!="function"&&(t=new Da({highWaterMark:e}),s=new Da({highWaterMark:e}),o.pipe(t),o.pipe(s),r[be].stream=t,o=s),o},dd=ri(r=>r.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),qn=(r,e)=>r===null?null:typeof r=="string"?"text/plain;charset=UTF-8":Zs(r)?"application/x-www-form-urlencoded;charset=UTF-8":Or(r)?r.type||null:Re.isBuffer(r)||Ba.isAnyArrayBuffer(r)||ArrayBuffer.isView(r)?null:r instanceof yt?`multipart/form-data; boundary=${e[be].boundary}`:r&&typeof r.getBoundary=="function"?`multipart/form-data;boundary=${dd(r)}`:r instanceof ot?null:"text/plain;charset=UTF-8",Na=r=>{let{body:e}=r[be];return e===null?0:Or(e)?e.size:Re.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},ka=async(r,{body:e})=>{e===null?r.end():await hd(e,r)};import{types as za}from"util";import Bn from"http";var Dn=typeof Bn.validateHeaderName=="function"?Bn.validateHeaderName:r=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(r)){let e=new TypeError(`Header name must be a valid HTTP token [${r}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},ni=typeof Bn.validateHeaderValue=="function"?Bn.validateHeaderValue:(r,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let t=new TypeError(`Invalid character in header content ["${r}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}},fe=class extends URLSearchParams{constructor(e){let t=[];if(e instanceof fe){let s=e.raw();for(let[o,a]of Object.entries(s))t.push(...a.map(u=>[o,u]))}else if(e!=null)if(typeof e=="object"&&!za.isBoxedPrimitive(e)){let s=e[Symbol.iterator];if(s==null)t.push(...Object.entries(e));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");t=[...e].map(o=>{if(typeof o!="object"||za.isBoxedPrimitive(o))throw new TypeError("Each header pair must be an iterable object");return[...o]}).map(o=>{if(o.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...o]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return t=t.length>0?t.map(([s,o])=>(Dn(s),ni(s,String(o)),[String(s).toLowerCase(),String(o)])):void 0,super(t),new Proxy(this,{get(s,o,a){switch(o){case"append":case"set":return(u,h)=>(Dn(u),ni(u,String(h)),URLSearchParams.prototype[o].call(s,String(u).toLowerCase(),String(h)));case"delete":case"has":case"getAll":return u=>(Dn(u),URLSearchParams.prototype[o].call(s,String(u).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,o,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(t.length===0)return null;let s=t.join(", ");return/^content-encoding$/i.test(e)&&(s=s.toLowerCase()),s}forEach(e,t=void 0){for(let s of this.keys())Reflect.apply(e,t,[this.get(s),s,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let s=this.getAll(t);return t==="host"?e[t]=s[0]:e[t]=s.length>1?s:s[0],e},{})}};Object.defineProperties(fe.prototype,["get","entries","forEach","values"].reduce((r,e)=>(r[e]={enumerable:!0},r),{}));function Fa(r=[]){return new fe(r.reduce((e,t,s,o)=>(s%2===0&&e.push(o.slice(s,s+2)),e),[]).filter(([e,t])=>{try{return Dn(e),ni(e,String(t)),!0}catch{return!1}}))}var pd=new Set([301,302,303,307,308]),Nn=r=>pd.has(r);var xe=Symbol("Response internals"),ae=class extends Ne{constructor(e=null,t={}){super(e,t);let s=t.status!=null?t.status:200,o=new fe(t.headers);if(e!==null&&!o.has("Content-Type")){let a=qn(e,this);a&&o.append("Content-Type",a)}this[xe]={type:"default",url:t.url,status:s,statusText:t.statusText||"",headers:o,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[xe].type}get url(){return this[xe].url||""}get status(){return this[xe].status}get ok(){return this[xe].status>=200&&this[xe].status<300}get redirected(){return this[xe].counter>0}get statusText(){return this[xe].statusText}get headers(){return this[xe].headers}get highWaterMark(){return this[xe].highWaterMark}clone(){return new ae(jt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!Nn(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ae(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new ae(null,{status:0,statusText:""});return e[xe].type="error",e}static json(e=void 0,t={}){let s=JSON.stringify(e);if(s===void 0)throw new TypeError("data is not JSON serializable");let o=new fe(t&&t.headers);return o.has("content-type")||o.set("content-type","application/json"),new ae(s,{...t,headers:o})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ae.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});import{format as bd}from"url";import{deprecate as yd}from"util";var Wa=r=>{if(r.search)return r.search;let e=r.href.length-1,t=r.hash||(r.href[e]==="#"?"#":"");return r.href[e-t.length]==="?"?"?":""};import{isIP as md}from"net";function ja(r,e=!1){return r==null||(r=new URL(r),/^(about|blob|data):$/.test(r.protocol))?"no-referrer":(r.username="",r.password="",r.hash="",e&&(r.pathname="",r.search=""),r)}var Ua=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Ma="strict-origin-when-cross-origin";function Ha(r){if(!Ua.has(r))throw new TypeError(`Invalid referrerPolicy: ${r}`);return r}function gd(r){if(/^(http|ws)s:$/.test(r.protocol))return!0;let e=r.host.replace(/(^\[)|(]$)/g,""),t=md(e);return t===4&&/^127\./.test(e)||t===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:r.host==="localhost"||r.host.endsWith(".localhost")?!1:r.protocol==="file:"}function Ut(r){return/^about:(blank|srcdoc)$/.test(r)||r.protocol==="data:"||/^(blob|filesystem):$/.test(r.protocol)?!0:gd(r)}function Ga(r,{referrerURLCallback:e,referrerOriginCallback:t}={}){if(r.referrer==="no-referrer"||r.referrerPolicy==="")return null;let s=r.referrerPolicy;if(r.referrer==="about:client")return"no-referrer";let o=r.referrer,a=ja(o),u=ja(o,!0);a.toString().length>4096&&(a=u),e&&(a=e(a)),t&&(u=t(u));let h=new URL(r.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return u;case"unsafe-url":return a;case"strict-origin":return Ut(a)&&!Ut(h)?"no-referrer":u.toString();case"strict-origin-when-cross-origin":return a.origin===h.origin?a:Ut(a)&&!Ut(h)?"no-referrer":u;case"same-origin":return a.origin===h.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===h.origin?a:u;case"no-referrer-when-downgrade":return Ut(a)&&!Ut(h)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function Va(r){let e=(r.get("referrer-policy")||"").split(/[,\s]+/),t="";for(let s of e)s&&Ua.has(s)&&(t=s);return t}var ne=Symbol("Request internals"),xr=r=>typeof r=="object"&&typeof r[ne]=="object",Sd=yd(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Ve=class extends Ne{constructor(e,t={}){let s;if(xr(e)?s=new URL(e.url):(s=new URL(e),e={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentials.`);let o=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(o)&&(o=o.toUpperCase()),!xr(t)&&"data"in t&&Sd(),(t.body!=null||xr(e)&&e.body!==null)&&(o==="GET"||o==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=t.body?t.body:xr(e)&&e.body!==null?jt(e):null;super(a,{size:t.size||e.size||0});let u=new fe(t.headers||e.headers||{});if(a!==null&&!u.has("Content-Type")){let d=qn(a,this);d&&u.set("Content-Type",d)}let h=xr(e)?e.signal:null;if("signal"in t&&(h=t.signal),h!=null&&!Ta(h))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let c=t.referrer==null?e.referrer:t.referrer;if(c==="")c="no-referrer";else if(c){let d=new URL(c);c=/^about:(\/\/)?client$/.test(d)?"client":d}else c=void 0;this[ne]={method:o,redirect:t.redirect||e.redirect||"follow",headers:u,parsedURL:s,signal:h,referrer:c},this.follow=t.follow===void 0?e.follow===void 0?20:e.follow:t.follow,this.compress=t.compress===void 0?e.compress===void 0?!0:e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[ne].method}get url(){return bd(this[ne].parsedURL)}get headers(){return this[ne].headers}get redirect(){return this[ne].redirect}get signal(){return this[ne].signal}get referrer(){if(this[ne].referrer==="no-referrer")return"";if(this[ne].referrer==="client")return"about:client";if(this[ne].referrer)return this[ne].referrer.toString()}get referrerPolicy(){return this[ne].referrerPolicy}set referrerPolicy(e){this[ne].referrerPolicy=Ha(e)}clone(){return new Ve(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Ve.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ya=r=>{let{parsedURL:e}=r[ne],t=new fe(r[ne].headers);t.has("Accept")||t.set("Accept","*/*");let s=null;if(r.body===null&&/^(post|put)$/i.test(r.method)&&(s="0"),r.body!==null){let h=Na(r);typeof h=="number"&&!Number.isNaN(h)&&(s=String(h))}s&&t.set("Content-Length",s),r.referrerPolicy===""&&(r.referrerPolicy=Ma),r.referrer&&r.referrer!=="no-referrer"?r[ne].referrer=Ga(r):r[ne].referrer="no-referrer",r[ne].referrer instanceof URL&&t.set("Referer",r.referrer),t.has("User-Agent")||t.set("User-Agent","node-fetch"),r.compress&&!t.has("Accept-Encoding")&&t.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=r;typeof o=="function"&&(o=o(e)),!t.has("Connection")&&!o&&t.set("Connection","close");let a=Wa(e),u={path:e.pathname+a,method:r.method,headers:t[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:r.insecureHTTPParser,agent:o};return{parsedURL:e,options:u}};var kn=class extends Ge{constructor(e,t="aborted"){super(e,t)}};On();Ks();var Ed=new Set(["data:","http:","https:"]);async function Fn(r,e){return new Promise((t,s)=>{let o=new Ve(r,e),{parsedURL:a,options:u}=Ya(o);if(!Ed.has(a.protocol))throw new TypeError(`node-fetch cannot load ${r}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let S=pa(o.url),v=new ae(S,{headers:{"Content-Type":S.typeFull}});t(v);return}let h=(a.protocol==="https:"?_d:wd).request,{signal:c}=o,d=null,g=()=>{let S=new kn("The operation was aborted.");s(S),o.body&&o.body instanceof Xa.Readable&&o.body.destroy(S),!(!d||!d.body)&&d.body.emit("error",S)};if(c&&c.aborted){g();return}let y=()=>{g(),b()},m=h(a.toString(),u);c&&c.addEventListener("abort",y);let b=()=>{m.abort(),c&&c.removeEventListener("abort",y)};m.on("error",S=>{s(new ge(`request to ${o.url} failed, reason: ${S.message}`,"system",S)),b()}),Rd(m,S=>{d&&d.body&&d.body.destroy(S)}),process.version<"v14"&&m.on("socket",S=>{let v;S.prependListener("end",()=>{v=S._eventsCount}),S.prependListener("close",w=>{if(d&&v<S._eventsCount&&!w){let R=new Error("Premature close");R.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",R)}})}),m.on("response",S=>{m.setTimeout(0);let v=Fa(S.rawHeaders);if(Nn(S.statusCode)){let T=v.get("Location"),B=null;try{B=T===null?null:new URL(T,o.url)}catch{if(o.redirect!=="manual"){s(new ge(`uri requested responds with an invalid redirect URL: ${T}`,"invalid-redirect")),b();return}}switch(o.redirect){case"error":s(new ge(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),b();return;case"manual":break;case"follow":{if(B===null)break;if(o.counter>=o.follow){s(new ge(`maximum redirect reached at: ${o.url}`,"max-redirect")),b();return}let q={headers:new fe(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:jt(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!Aa(o.url,B)||!$a(o.url,B))for(let U of["authorization","www-authenticate","cookie","cookie2"])q.headers.delete(U);if(S.statusCode!==303&&o.body&&e.body instanceof Xa.Readable){s(new ge("Cannot follow redirect with body being a readable stream","unsupported-redirect")),b();return}(S.statusCode===303||(S.statusCode===301||S.statusCode===302)&&o.method==="POST")&&(q.method="GET",q.body=void 0,q.headers.delete("content-length"));let x=Va(v);x&&(q.referrerPolicy=x),t(Fn(new Ve(B,q))),b();return}default:return s(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}c&&S.once("end",()=>{c.removeEventListener("abort",y)});let w=Ht(S,new Qa,T=>{T&&s(T)});process.version<"v12.10"&&S.on("aborted",y);let R={url:o.url,status:S.statusCode,statusText:S.statusMessage,headers:v,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},O=v.get("Content-Encoding");if(!o.compress||o.method==="HEAD"||O===null||S.statusCode===204||S.statusCode===304){d=new ae(w,R),t(d);return}let D={flush:Mt.Z_SYNC_FLUSH,finishFlush:Mt.Z_SYNC_FLUSH};if(O==="gzip"||O==="x-gzip"){w=Ht(w,Mt.createGunzip(D),T=>{T&&s(T)}),d=new ae(w,R),t(d);return}if(O==="deflate"||O==="x-deflate"){let T=Ht(S,new Qa,B=>{B&&s(B)});T.once("data",B=>{(B[0]&15)===8?w=Ht(w,Mt.createInflate(),q=>{q&&s(q)}):w=Ht(w,Mt.createInflateRaw(),q=>{q&&s(q)}),d=new ae(w,R),t(d)}),T.once("end",()=>{d||(d=new ae(w,R),t(d))});return}if(O==="br"){w=Ht(w,Mt.createBrotliDecompress(),T=>{T&&s(T)}),d=new ae(w,R),t(d);return}d=new ae(w,R),t(d)}),ka(m,o).catch(s)})}function Rd(r,e){let t=zn.from(`0\r
\r
`),s=!1,o=!1,a;r.on("response",u=>{let{headers:h}=u;s=h["transfer-encoding"]==="chunked"&&!h["content-length"]}),r.on("socket",u=>{let h=()=>{if(s&&!o){let d=new Error("Premature close");d.code="ERR_STREAM_PREMATURE_CLOSE",e(d)}},c=d=>{o=zn.compare(d.slice(-5),t)===0,!o&&a&&(o=zn.compare(a.slice(-3),t.slice(0,3))===0&&zn.compare(d.slice(-2),t.slice(3))===0),a=d};u.prependListener("close",h),u.on("data",c),r.on("close",()=>{u.removeListener("close",h),u.removeListener("data",c)})})}var Zc=Ie(vl(),1),Jc=Ie(jn(),1),Kc=Ie(Al(),1),ee=Ie(Rc(),1),ef=Ie(Cc(),1),tf=Ie(Wc(),1);import{cwd as Vg,stdout as Yg,argv as Xg,env as Qg,exit as Vr,versions as Zg}from"process";import{join as rf,dirname as Jg}from"path";import{lstatSync as Kg,readFileSync as jc,truncateSync as eb,writeFileSync as tb,accessSync as rb}from"fs";import{platform as nb}from"os";import{rootCertificates as Uc}from"tls";var Hg=[[1e3,6e4,"sec"],[6e4,36e5,"min"],[36e5,864e5,"hour"],[864e5,6048e5,"day"],[6048e5,2628e6,"week"],[2628e6,31536e6,"month"],[31536e6,1/0,"year"]],Gg={"1 day ago":"yesterday","1 week ago":"last week","1 month ago":"last month","1 year ago":"last year","in 1 day":"tomorrow","in 1 week":"next week","in 1 month":"next month","in 1 year":"next year"};function xi(r,{noAffix:e=!1,times:t=Hg,nowThreshold:s=1e4,nowString:o="now",aliases:a=!1,aliasesMap:u=Gg}={}){let h=Date.now();if(r=typeof r=="number"?r:Date.parse(r),Number.isNaN(r))return"unknown";let c=!1,d=h-r;if(d<0&&(c=!0,d=Math.abs(d)),d<s)return o;let g,y;for(let b=0,S=t.length;b<S;b++){let v=t[b];if(!(d>=v[1])){g=Math.floor(d/v[0]),y=v[2]+(g>1?"s":"");break}}let m=`${c&&!e?"in ":""}${g} ${y}${!c&&!e?" ago":""}`;return a?u[m]??m:m}var{fromUrl:sb}=tf.default,Yr,Xc;globalThis.fetch&&!((Xc=Zg)!=null&&Xc.node)?Yr=globalThis.fetch:Yr=Gs(Fn,{undici:!1});var nf=96,ct="\0",ib=/^.*?:\/\/(.*?@)?(github\.com[:/])/i,ob=/^([^/]+)\/([^/#]+)?.*?\/([0-9a-f]+|v?[0-9]+\.[0-9]+\.[0-9]+)$/i,ki=/^[0-9a-f]{7,}$/i,Mc=/[0-9]+(\.[0-9]+)?(\.[0-9]+)?/g,Hc=r=>r.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&"),ab=is(sb),Li=is(Zc.default),lb=is(Kc.default),Fi=is(r=>r.endsWith("/")?r.substring(0,r.length-1):r),ub=new Set(["patch"]),cb=new Set(["patch","minor"]),fb=new Set(["patch","minor","major"]),k=(0,Qc.default)(Xg.slice(2),{boolean:["E","error-on-outdated","U","error-on-unchanged","h","help","j","json","n","no-color","u","update","v","version","V","verbose"],string:["d","allow-downgrade","f","file","g","greatest","G","githubapi","m","minor","P","patch","p","prerelease","R","release","r","registry","t","types"],alias:{d:"allow-downgrade",E:"error-on-outdated",U:"error-on-unchanged",e:"exclude",f:"file",g:"greatest",G:"githubapi",h:"help",i:"include",j:"json",m:"minor",n:"no-color",P:"patch",p:"prerelease",r:"registry",R:"release",s:"semver",S:"sockets",t:"types",u:"update",v:"version",V:"verbose"}}),zi,ss,Xr;k.color===!1||Qg.TERM==="dumb"?zi=ss=Xr=r=>r:(zi=r=>`\x1B[35m${r}\x1B[0m`,ss=r=>`\x1B[31m${r}\x1B[0m`,Xr=r=>`\x1B[32m${r}\x1B[0m`);var tr=ir(k.greatest),qi=ir(k.prerelease),Di=ir(k.release),rr=ir(k.patch),nr=ir(k.minor),sr=ir(k["allow-downgrade"]),Fe=(0,Jc.default)("npm",{registry:"https://registry.npmjs.org"}),Bi={npmrc:Fe,recursive:!0},hb=Fi(k.registry||Fe.registry),Gc=k.githubapi?Fi(k.githubapi):"https://api.github.com",db=typeof k.sockets=="number"?parseInt(k.sockets):nf,Vc=r=>Array.from(r.matchAll(/(----BEGIN CERT[^]+?IFICATE----)/g)).map(e=>e[0]);function is(r){let e=Object.create(null);return(t,s)=>t in e?e[t]:e[t]=r(t,s)}function sf(r,e,t){let s=rf(e,r);try{return rb(s),s}catch{}let o=Jg(e);return t&&s===t||o===e?null:sf(r,o,t)}function pb(r,e){if(r.startsWith("@")){let t=(/@[a-z0-9][\w-.]+/.exec(r)||[])[0],s=Fi(lb(t,Fe));if(s!==e)try{let o=Li(s,Bi);if(o!=null&&o.token)return[o,s]}catch{}return[Li(e,Bi),e]}else return[Li(e,Bi),e]}async function mb(r,e,t,s){let[o,a]=pb(r,t),u={maxSockets:db};Object.keys(s).length&&(u.agentOpts=s),o!=null&&o.token&&(u.headers={Authorization:`${o.type} ${o.token}`});let c=(e==="resolutions"?Tb(r):r).replace(/\//g,"%2f"),d=`${a}/${c}`;k.verbose&&console.error(`${zi("fetch")} ${d}`);let g=await Yr(d,u);if(g!=null&&g.ok)return k.verbose&&console.error(`${Xr("done")} ${d}`),[await g.json(),e,a,r];throw g!=null&&g.status&&(g!=null&&g.statusText)?new Error(`Received ${g.status} ${g.statusText} for ${r} from ${a}`):new Error(`Unable to fetch ${r} from ${a}`)}function gb({repository:r,homepage:e},t,s){let o;if(t==="https://npm.pkg.github.com")return`https://github.com/${s.replace(/^@/,"")}`;if(r){let u=typeof r=="string"?r:r.url,h=ab(u);h!=null&&h.browse&&(o=h.browse()),o&&r.directory&&h.treepath&&(o=`${o}/${h.treepath}/HEAD/${r.directory}`),!o&&(r!=null&&r.url)&&/^https?:/.test(r.url)&&(o=r.url)}let a=o||e||"";if(a){let u=new URL(a);u.protocol==="http:"&&u.hostname==="github.com"&&(u.protocol="https:",a=String(u))}return a}function Ae(r,e={}){let t={},s=r instanceof Error;typeof r=="string"?t.message=r:s&&(t.error=r.message);for(let o of Object.values(e))"oldPrint"in o&&(o.old=o.oldPrint,delete o.oldPrint),"newPrint"in o&&(o.new=o.newPrint,delete o.newPrint),"oldOriginal"in o&&(o.old=o.oldOriginal,delete o.oldOriginal);if(k.json){if(!s){t.results={};for(let[o,a]of Object.entries(e)){let[u,h]=o.split(ct);t.results[u]||(t.results[u]={}),t.results[u][h]=a}}console.info(JSON.stringify(t))}else Object.keys(e).length&&!s&&console.info(yb(e)),(t.message||t.error)&&(t.message?console.info(t.message):t.error&&console.info(ss(t.error)));k["error-on-outdated"]?Vr(Object.keys(e).length?2:0):k["error-on-unchanged"]?Vr(Object.keys(e).length?0:2):Vr(t.error?1:0)}function bb(r,e){let t=nb()==="win32";t&&eb(r,0),tb(r,e,t?{flag:"r+"}:void 0)}function Yc(r,e,t){let s=r.split(/\./),o=e.split(/\./),a=t?Xr:ss,u=/^[0-9a-zA-Z-.]+$/,h="";for(let c=0;c<s.length;c++)if(s[c]!==o[c]){u.test(s[c])?h+=a(s.slice(c).join(".")):h+=s[c].split("").map(d=>u.test(d)?a(d):d).join("")+a(`.${s.slice(c+1).join(".")}`);break}else h+=`${s[c]}.`;return h}function yb(r){let e=[["NAME","OLD","NEW","AGE","INFO"]];for(let[t,s]of Object.entries(r))e.push([t.split(ct)[1],Yc(s.old,s.new,!1),Yc(s.new,s.old,!0),s.age||"",s.info]);return(0,ef.default)(e,{hsep:" ",stringLength:t=>t.replace(Fs(),"").length})}function Sb(r,e){let t=r;for(let s of Object.keys(e)){let o=s.split(ct)[1],a=e[s].oldOriginal||e[s].old,u=new RegExp(`"${Hc(o)}": +"${Hc(a)}"`,"g");t=t.replace(u,`"${o}": "${e[s].new}"`)}return t}function wb(r,e){return r.replace(/[0-9]+\.[0-9]+\.[0-9]+(-.+)?/g,e)}function Ni(r){let e=ee.default.parse(r);return e?Boolean(e.prerelease.length):!1}function of(r){return/[0-9]+\.[0-9]+\.[0-9]+-.+/.test(r)}function _b(r){try{return ee.default.coerce(r).version}catch{return null}}function Eb(r,e,{range:t,semvers:s,usePre:o,useRel:a,useGreatest:u}={}){let h=_b(t),c=0;s=new Set(s),o=of(t)||o,o&&(s.add("prerelease"),s.has("patch")&&s.add("prepatch"),s.has("minor")&&s.add("preminor"),s.has("major")&&s.add("premajor"));for(let d of e){let g=ee.default.parse(d);if(g.prerelease.length&&(!o||a))continue;let y=ee.default.diff(h,g.version);if(!(!y||!s.has(y)))if(u||!("time"in r))ee.default.gte(ee.default.coerce(g.version).version,h)&&(h=g.version);else{let m=new Date(r.time[d]).getTime();m>=0&&m>c&&(h=g.version,c=m)}}return h||null}function Rb(r,e){var o;if(e.range==="*"||e.range.includes("||"))return null;let t=Object.keys(r.versions).filter(a=>ee.default.valid(a)),s=Eb(r,t,e);if(e.useGreatest)return s;{let a=r["dist-tags"].latest,u=ee.default.coerce(e.range).version,h=of(e.range),c=Ni(s),d=Ni(a),g=ee.default.gt(s,u);if(!e.useRel&&e.usePre||h&&c||e.useRel&&!g&&h&&!c||h&&!c&&g)return s;if(h&&!c&&!g)return null;let y=ee.default.diff(u,a);return y&&y!=="prerelease"&&!e.semvers.has(y.replace(/^pre/,""))||e.useRel&&Ni(a)?s:ee.default.lt(a,u)&&!d?sr===!0||(o=sr==null?void 0:sr.has)!=null&&o.call(sr,r.name)?a:null:a}}async function vb([r,e],{useGreatest:t}={}){var c,d;let s=e.old.replace(ib,""),[o,a,u,h]=ob.exec(s)||[];if(!(!a||!u||!h))if(ki.test(h)){let g=await Yr(`${Gc}/repos/${a}/${u}/commits`);if(!g||!g.ok)return;let y=await g.json(),{sha:m,commit:b}=y[0];if(!m||!m.length)return;let S=((c=b==null?void 0:b.committer)==null?void 0:c.date)??((d=b==null?void 0:b.author)==null?void 0:d.date);if(m=m.substring(0,h.length),h!==m){let v=e.old.replace(h,m);return{key:r,newRange:v,user:a,repo:u,oldRef:h,newRef:m,newDate:S}}}else{let g=await Yr(`${Gc}/repos/${a}/${u}/git/refs/tags`);if(!g||!g.ok)return;let m=(await g.json()).map(S=>S.ref.replace(/^refs\/tags\//,"")),b=h.replace(/^v/,"");if(!ee.default.valid(b))return;if(t){let S=h,v=h.replace(/^v/,"");for(let w of m){let R=w.replace(/^v/,"");ee.default.valid(R)&&(!S||ee.default.gt(R,v))&&(S=w,v=R)}if(ee.default.neq(b,v))return{key:r,newRange:S,user:a,repo:u,oldRef:h,newRef:S}}else{let S=m[m.length-1],v=S.replace(/^v/,"");if(!ee.default.valid(v))return;if(ee.default.neq(b,v))return{key:r,newRange:S,user:a,repo:u,oldRef:h,newRef:S}}}}function Tb(r){let e=r.match(/(@[^/]+\/)?([^/]+)/g)||[];return e[e.length-1]}function Ab(r){let e=r.match(Mc);return(e==null?void 0:e.length)!==1?r:r.replace(Mc,ee.default.coerce(e[0]))}function ir(r){return r===void 0?!1:r===""?!0:typeof r=="string"?r.includes(",")?new Set(r.split(",")):new Set([r]):Array.isArray(r)?new Set(r):!1}async function $b(){var y,m,b,S,v;for(let w of[process.stdout,process.stderr])(m=(y=w==null?void 0:w._handle)==null?void 0:y.setBlocking)==null||m.call(y,!0);k.help&&(Yg.write(`usage: updates [options]

  Options:
    -u, --update                       Update versions and write package.json
    -p, --prerelease [<pkg,...>]       Consider prerelease versions
    -R, --release [<pkg,...>]          Only use release versions, may downgrade
    -g, --greatest [<pkg,...>]         Prefer greatest over latest version
    -i, --include <pkg,...>            Include only given packages
    -e, --exclude <pkg,...>            Exclude given packages
    -t, --types <type,...>             Check only given dependency types
    -P, --patch [<pkg,...>]            Consider only up to semver-patch
    -m, --minor [<pkg,...>]            Consider only up to semver-minor
    -d, --allow-downgrade [<pkg,...>]  Allow version downgrades when using latest version
    -E, --error-on-outdated            Exit with code 2 when updates are available and 0 when not
    -U, --error-on-unchanged           Exit with code 0 when updates are available and 2 when not
    -r, --registry <url>               Override npm registry URL
    -G, --githubapi <url>              Override Github API URL
    -f, --file <path>                  Use given package.json file or module directory
    -S, --sockets <num>                Maximum number of parallel HTTP sockets opened. Default: ${nf}
    -j, --json                         Output a JSON object
    -n, --no-color                     Disable color output
    -v, --version                      Print the version
    -V, --verbose                      Print verbose output to stderr
    -h, --help                         Print this help

  Examples:
    $ updates
    $ updates -u
    $ updates -u -m -e eslint
    $ updates -u -U && rm -rf node_modules && npm i
`),Vr(0)),k.version&&(console.info("13.2.8"),Vr(0));let r={};if(Fe["strict-ssl"]===!1)r.rejectUnauthorized=!1;else if("cafile"in Fe&&(r.ca=Uc.concat(Vc(jc(Fe.cafile,"utf8")))),"ca"in Fe){let w=Array.isArray(Fe.ca)?Fe.ca:[Fe.ca];r.ca=Uc.concat(w.map(R=>Vc(R)))}let e;if(k.file){let w;try{w=Kg(k.file)}catch(R){Ae(new Error(`Unable to open ${k.file}: ${R.message}`))}w!=null&&w.isFile()?e=k.file:w!=null&&w.isDirectory()?e=rf(k.file,"package.json"):Ae(new Error(`${k.file} is neither a file nor directory`))}else{let w=Vg();e=sf("package.json",w),e||Ae(new Error(`Unable to find package.json in ${w} or any of its parent directories`))}let t;k.types?t=Array.isArray(k.types)?k.types:k.types.split(","):t=["dependencies","devDependencies","optionalDependencies","peerDependencies","resolutions"];let s,o;try{o=jc(e,"utf8")}catch(w){Ae(new Error(`Unable to open ${e}: ${w.message}`))}try{s=JSON.parse(o)}catch(w){Ae(new Error(`Error parsing ${e}: ${w.message}`))}let a,u;k.include&&k.include!==!0&&(a=new Set((Array.isArray(k.include)?k.include:[k.include]).flatMap(w=>w.split(",")))),k.exclude&&k.exclude!==!0&&(u=new Set((Array.isArray(k.exclude)?k.exclude:[k.exclude]).flatMap(w=>w.split(","))));function h(w){var R,O;return!(((R=u==null?void 0:u.has)==null?void 0:R.call(u,w))===!0||((O=a==null?void 0:a.has)==null?void 0:O.call(a,w))===!1)}let c={},d={};for(let w of t)for(let[R,O]of Object.entries(s[w]||{}))ee.default.validRange(O)&&h(R)?c[`${w}${ct}${R}`]={old:Ab(O),oldOriginal:O}:h(R)&&(d[`${w}${ct}${R}`]={old:O});!Object.keys(c).length&&!Object.keys(d).length&&Ae(a||u?new Error("No dependencies match the given include/exclude filters"):"No dependencies present, nothing to do");let g=await Promise.all(Object.keys(c).map(w=>{let[R,O]=w.split(ct);return mb(O,R,hb,r)}));for(let[w,R,O,D]of g){if(w!=null&&w.error)throw new Error(w.error);let T=typeof tr=="boolean"?tr:tr.has(w.name),B=typeof qi=="boolean"?qi:qi.has(w.name),q=typeof Di=="boolean"?Di:Di.has(w.name),x;rr===!0||(b=rr==null?void 0:rr.has)!=null&&b.call(rr,w.name)?x=ub:nr===!0||(S=nr==null?void 0:nr.has)!=null&&S.call(nr,w.name)?x=cb:x=fb;let U=`${R}${ct}${D}`,M=c[U].old,We=Rb(w,{usePre:B,useRel:q,useGreatest:T,semvers:x,range:M}),_e=wb(M,We);!We||M===_e?delete c[U]:(c[U].new=_e,c[U].info=gb(w.versions[We]||w,O,w.name),(v=w.time)!=null&&v[We]&&(c[U].age=xi(w.time[We],{noAffix:!0})))}if(Object.keys(d).length){let w=await Promise.all(Object.entries(d).map(([R,O])=>{let D=R.split(ct)[1],T=typeof tr=="boolean"?tr:tr.has(D);return vb([R,O],{useGreatest:T})}));w=w.filter(Boolean);for(let R of w||[]){let{key:O,newRange:D,user:T,repo:B,oldRef:q,newRef:x,newDate:U}=R;c[O]={old:d[O].old,new:D,oldPrint:ki.test(q)?q.substring(0,7):q,newPrint:ki.test(x)?x.substring(0,7):x,info:`https://github.com/${T}/${B}`,...U?{age:xi(U,{noAffix:!0})}:{}}}}Object.keys(c).length||Ae("All dependencies are up to date."),k.update||Ae(void 0,c);try{bb(e,Sb(o,c))}catch(w){Ae(new Error(`Error writing ${e}: ${w.message}`))}Ae(Xr("\u2728 package.json updated"),c)}$b().catch(Ae);
